{"version":3,"file":"SoftwarePicker.js","sources":["components/SoftwarePicker.vue","E:/HBuilderX.4.76.2025082103/HBuilderX/plugins/uniapp-cli-vite/uniComponent:/QzovVXNlcnMvQWRtaW5pc3RyYXRvci9zb3VyY2UvcmVwb3Mvd3d3c2tianh5ei9TUFRFU1QtVjEvU1Byb3RlY3RBZ2VudFdlYi5BcGkvd3d3cm9vdC91bmlhcHAvY29tcG9uZW50cy9Tb2Z0d2FyZVBpY2tlci52dWU"],"sourcesContent":["<template>\r\n  <view v-if=\"options.length\" class=\"software-picker\">\r\n    <picker mode=\"selector\" :range=\"options\" :value=\"currentIndex\" @change=\"onChange\">\r\n      <view class=\"picker-display\">\r\n        <text class=\"picker-label\">{{ currentLabel }}</text>\r\n        <text class=\"picker-arrow\">▼</text>\r\n      </view>\r\n    </picker>\r\n  </view>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport { computed } from 'vue';\r\nimport { storeToRefs } from 'pinia';\r\nimport { useAppStore } from '@/stores/app';\r\n\r\nconst appStore = useAppStore();\r\nconst { softwareList, selectedSoftware } = storeToRefs(appStore);\r\n\r\nconst options = computed(() => softwareList.value.map((item) => item.softwareName));\r\n\r\nconst currentIndex = computed(() => {\r\n  const index = options.value.findIndex((item) => item === selectedSoftware.value);\r\n  return index >= 0 ? index : 0;\r\n});\r\n\r\nconst currentLabel = computed(() => selectedSoftware.value || options.value[currentIndex.value] || '请选择软件');\r\n\r\nfunction onChange(event: any) {\r\n  const index = Number(event?.detail?.value ?? currentIndex.value);\r\n  const value = options.value[index];\r\n  if (value) {\r\n    appStore.setSelectedSoftware(value);\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n.software-picker {\r\n  align-self: stretch;\r\n}\r\n\r\n.picker-display {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  padding: 12rpx 24rpx;\r\n  border-radius: 999rpx;\r\n  background: rgba(56, 189, 248, 0.12);\r\n  border: 1rpx solid rgba(56, 189, 248, 0.35);\r\n  color: #e2e8f0;\r\n  font-size: 26rpx;\r\n  min-width: 260rpx;\r\n}\r\n\r\n.picker-label {\r\n  flex: 1;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n  white-space: nowrap;\r\n}\r\n\r\n.picker-arrow {\r\n  font-size: 22rpx;\r\n  margin-left: 12rpx;\r\n  opacity: 0.8;\r\n}\r\n</style>\r\n","import Component from 'C:/Users/Administrator/source/repos/wwwskbjxyz/SPTEST-V1/SProtectAgentWeb.Api/wwwroot/uniapp/components/SoftwarePicker.vue'\nwx.createComponent(Component)"],"names":["useAppStore","storeToRefs","computed"],"mappings":";;;;;;AAgBA,UAAM,WAAWA,WAAAA;AACjB,UAAM,EAAE,cAAc,iBAAiB,IAAIC,0BAAY,QAAQ;AAEzD,UAAA,UAAUC,cAAAA,SAAS,MAAM,aAAa,MAAM,IAAI,CAAC,SAAS,KAAK,YAAY,CAAC;AAE5E,UAAA,eAAeA,cAAAA,SAAS,MAAM;AAC5B,YAAA,QAAQ,QAAQ,MAAM,UAAU,CAAC,SAAS,SAAS,iBAAiB,KAAK;AACxE,aAAA,SAAS,IAAI,QAAQ;AAAA,IAAA,CAC7B;AAEK,UAAA,eAAeA,cAAAA,SAAS,MAAM,iBAAiB,SAAS,QAAQ,MAAM,aAAa,KAAK,KAAK,OAAO;AAE1G,aAAS,SAAS,OAAY;;AAC5B,YAAM,QAAQ,SAAO,oCAAO,WAAP,mBAAe,UAAS,aAAa,KAAK;AACzD,YAAA,QAAQ,QAAQ,MAAM,KAAK;AACjC,UAAI,OAAO;AACT,iBAAS,oBAAoB,KAAK;AAAA,MACpC;AAAA,IACF;;;;;;;;;;;;;;ACjCA,GAAG,gBAAgB,SAAS;"}
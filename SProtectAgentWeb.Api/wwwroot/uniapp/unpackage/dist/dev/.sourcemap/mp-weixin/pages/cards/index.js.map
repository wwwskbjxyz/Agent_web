{"version":3,"file":"index.js","sources":["pages/cards/index.vue","E:/HBuilderX.4.76.2025082103/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvY2FyZHMvaW5kZXgudnVl"],"sourcesContent":["<template>\r\n  <view class=\"page\">\r\n    <view class=\"header glass-card\">\r\n      <view class=\"header-main\">\r\n        <text class=\"title\">卡密管理</text>\r\n        <text class=\"subtitle\">多条件搜索、批量生成与状态管理</text>\r\n      </view>\r\n      <view class=\"header-actions\">\r\n        <SoftwarePicker />\r\n        <button class=\"header-btn\" @tap=\"createCard\">批量生成</button>\r\n        <button class=\"header-btn ghost\" @tap=\"exportCard\">导出当前列表</button>\r\n      </view>\r\n    </view>\r\n\r\n    <view class=\"filters glass-card\">\r\n      <view class=\"filters-grid\">\r\n        <view class=\"field field--full\">\r\n          <text class=\"label\">关键字 / 备注 / 卡密</text>\r\n          <textarea\r\n            class=\"textarea\"\r\n            v-model=\"filtersForm.keyword\"\r\n            placeholder=\"支持卡密、备注、机器码、多个关键词可换行或空格分隔\"\r\n            auto-height\r\n          />\r\n        </view>\r\n        <view class=\"field\">\r\n          <text class=\"label\">卡密类型</text>\r\n          <picker mode=\"selector\" :range=\"cardTypeOptions\" :value=\"cardTypeIndex\" @change=\"onCardTypeChange\">\r\n            <view class=\"picker-display\">{{ cardTypeOptions[cardTypeIndex] || '全部' }}</view>\r\n          </picker>\r\n        </view>\r\n        <view class=\"field\">\r\n          <text class=\"label\">状态</text>\r\n          <picker mode=\"selector\" :range=\"statusLabels\" :value=\"statusIndex\" @change=\"onStatusChange\">\r\n            <view class=\"picker-display\">{{ statusLabels[statusIndex] || '全部' }}</view>\r\n          </picker>\r\n        </view>\r\n        <view class=\"field\">\r\n          <text class=\"label\">代理账号</text>\r\n          <picker mode=\"selector\" :range=\"agentOptions\" :value=\"agentIndex\" @change=\"onAgentChange\">\r\n            <view class=\"picker-display\">{{ agentOptions[agentIndex] || '全部' }}</view>\r\n          </picker>\r\n        </view>\r\n        <view class=\"field\">\r\n          <text class=\"label\">查询模式</text>\r\n          <picker mode=\"selector\" :range=\"searchTypeLabels\" :value=\"searchTypeIndex\" @change=\"onSearchTypeChange\">\r\n            <view class=\"picker-display\">{{ searchTypeLabels[searchTypeIndex] || '智能匹配' }}</view>\r\n          </picker>\r\n        </view>\r\n        <view class=\"field switch-field\">\r\n          <text class=\"label\">包含下级</text>\r\n          <switch :checked=\"filtersForm.includeDescendants\" :disabled=\"disableDescendants\" @change=\"onDescendantChange\" />\r\n          <text v-if=\"disableDescendants\" class=\"hint\">指定代理时默认不包含下级</text>\r\n        </view>\r\n        <view class=\"field\">\r\n          <text class=\"label\">机器码</text>\r\n          <input class=\"input\" v-model=\"filtersForm.machineCode\" placeholder=\"输入完整机器码\" />\r\n        </view>\r\n        <view class=\"field\">\r\n          <text class=\"label\">IP 地址</text>\r\n          <input class=\"input\" v-model=\"filtersForm.ip\" placeholder=\"如 113.45.90.1\" />\r\n        </view>\r\n        <view class=\"field\">\r\n          <text class=\"label\">开始时间</text>\r\n          <DateTimePicker v-model=\"filtersForm.startTime\" placeholder=\"选择开始时间\" />\r\n        </view>\r\n        <view class=\"field\">\r\n          <text class=\"label\">结束时间</text>\r\n          <DateTimePicker v-model=\"filtersForm.endTime\" placeholder=\"选择结束时间\" />\r\n        </view>\r\n        <view class=\"field\">\r\n          <text class=\"label\">每页条数</text>\r\n          <picker mode=\"selector\" :range=\"pageSizeLabels\" :value=\"pageSizeIndex\" @change=\"onPageSizeChange\">\r\n            <view class=\"picker-display\">{{ pageSizeLabels[pageSizeIndex] }}</view>\r\n          </picker>\r\n        </view>\r\n      </view>\r\n      <view class=\"filter-actions\">\r\n        <button class=\"btn primary\" :disabled=\"loading\" @tap=\"submitSearch\">{{ loading ? '查询中...' : '查询' }}</button>\r\n        <button class=\"btn ghost\" :disabled=\"loading\" @tap=\"resetFilters\">重置</button>\r\n      </view>\r\n    </view>\r\n\r\n    <DataTable\r\n      title=\"卡密总览\"\r\n      :subtitle=\"summaryText\"\r\n      :columns=\"columns\"\r\n      :rows=\"rows\"\r\n      :loading=\"loading\"\r\n      layout=\"stack\"\r\n      primary-column=\"key\"\r\n      operations-column=\"operations\"\r\n      :collapse-details=\"true\"\r\n    >\r\n      <template #actions>\r\n        <button class=\"mini-btn ghost\" :disabled=\"loading\" @tap=\"refreshList\">刷新</button>\r\n      </template>\r\n      <template #key=\"{ row }\">\r\n        <view class=\"key-header\">\r\n          <text class=\"copy-text copyable\" @longpress=\"copyValue(row.key)\">{{ row.key }}</text>\r\n          <StatusTag :status=\"statusMap[row.status]\" :label=\"row.statusText || statusText[row.status]\" />\r\n        </view>\r\n      </template>\r\n      <template #status=\"{ row }\">\r\n        <StatusTag :status=\"statusMap[row.status]\" :label=\"row.statusText || statusText[row.status]\" />\r\n      </template>\r\n      <template #ip=\"{ row }\">\r\n        <text class=\"copy-text copyable\" @longpress=\"copyValue(row.ip || '')\">{{ row.ip || '—' }}</text>\r\n      </template>\r\n      <template #machineCodes=\"{ row }\">\r\n        <view v-if=\"row.machineCodes && row.machineCodes.length\" class=\"machine-list\">\r\n          <view\r\n            v-for=\"code in row.machineCodes\"\r\n            :key=\"code\"\r\n            class=\"machine-item copyable\"\r\n            @longpress=\"copyValue(code)\"\r\n          >\r\n            {{ code }}\r\n          </view>\r\n        </view>\r\n        <text v-else class=\"placeholder\">—</text>\r\n      </template>\r\n      <template #remark=\"{ row }\">\r\n        <text v-if=\"row.remark\" class=\"remark\">{{ row.remark }}</text>\r\n        <text v-else class=\"placeholder\">—</text>\r\n      </template>\r\n      <template #fullKey=\"{ row }\">\r\n        <text class=\"full-key copyable\" @longpress=\"copyValue(row.fullKey)\">{{ row.fullKey }}</text>\r\n      </template>\r\n      <template #operations=\"{ row }\">\r\n        <view class=\"action-group\">\r\n          <button\r\n            class=\"action-btn\"\r\n            :class=\"{ primary: row.status !== 'enabled' }\"\r\n            :disabled=\"loading || isActionBusy(row.key, 'enable')\"\r\n            @tap=\"handleStatusAction(row, 'enable')\"\r\n          >\r\n            {{ isActionBusy(row.key, 'enable') ? '处理中...' : '启用' }}\r\n          </button>\r\n          <button\r\n            class=\"action-btn warn\"\r\n            :disabled=\"loading || isActionBusy(row.key, 'disable')\"\r\n            @tap=\"handleStatusAction(row, 'disable')\"\r\n          >\r\n            {{ isActionBusy(row.key, 'disable') ? '处理中...' : '禁用' }}\r\n          </button>\r\n          <button\r\n            class=\"action-btn\"\r\n            :disabled=\"loading || isActionBusy(row.key, 'unban')\"\r\n            @tap=\"handleStatusAction(row, 'unban')\"\r\n          >\r\n            {{ isActionBusy(row.key, 'unban') ? '处理中...' : '解除封禁' }}\r\n          </button>\r\n          <button\r\n            class=\"action-btn ghost\"\r\n            :disabled=\"loading || isActionBusy(row.key, 'unbind')\"\r\n            @tap=\"handleUnbind(row)\"\r\n          >\r\n            {{ isActionBusy(row.key, 'unbind') ? '处理中...' : '解绑' }}\r\n          </button>\r\n        </view>\r\n      </template>\r\n    </DataTable>\r\n\r\n    <view class=\"pagination glass-card\" v-if=\"totalPages > 1 || cardTotal\">\r\n      <view class=\"page-info\">第 {{ currentPage }} / {{ totalPages }} 页 · 共 {{ cardTotal }} 条</view>\r\n      <view class=\"page-actions\">\r\n        <button class=\"page-btn\" :disabled=\"currentPage <= 1 || loading\" @tap=\"changePage(currentPage - 1)\">上一页</button>\r\n        <button class=\"page-btn\" :disabled=\"currentPage >= totalPages || loading\" @tap=\"changePage(currentPage + 1)\">下一页</button>\r\n      </view>\r\n    </view>\r\n    <view v-if=\"showCreateCardModal\" class=\"create-card-modal\" @tap=\"closeCreateCardModal\">\r\n      <view class=\"create-card-panel glass-card\" @tap.stop=\"\">\r\n        <view class=\"create-card-header\">\r\n          <text class=\"create-card-title\">批量生成卡密</text>\r\n          <button class=\"create-card-close\" :disabled=\"creatingCards\" @tap=\"closeCreateCardModal\">关闭</button>\r\n        </view>\r\n        <view class=\"create-card-body\">\r\n          <view class=\"form-field\">\r\n            <text class=\"form-label\">卡密类型</text>\r\n            <picker\r\n              mode=\"selector\"\r\n              :range=\"cardTypePickerLabels\"\r\n              :value=\"createCardForm.cardTypeIndex\"\r\n              @change=\"onCreateCardTypeChange\"\r\n            >\r\n              <view class=\"picker-display\">{{ cardTypePickerLabels[createCardForm.cardTypeIndex] || '请选择卡密类型' }}</view>\r\n            </picker>\r\n          </view>\r\n          <view class=\"form-field\">\r\n            <text class=\"form-label\">生成数量</text>\r\n            <input class=\"input\" type=\"number\" v-model=\"createCardForm.quantity\" placeholder=\"1-500\" />\r\n          </view>\r\n          <view class=\"form-field\">\r\n            <text class=\"form-label\">备注（可选）</text>\r\n            <textarea\r\n              class=\"textarea\"\r\n              v-model=\"createCardForm.remarks\"\r\n              placeholder=\"可填写备注信息\"\r\n              auto-height\r\n            ></textarea>\r\n          </view>\r\n          <view class=\"form-field\">\r\n            <text class=\"form-label\">自定义前缀（可选）</text>\r\n            <input\r\n              class=\"input\"\r\n              v-model=\"createCardForm.customPrefix\"\r\n              placeholder=\"最多 32 位字符\"\r\n              maxlength=\"32\"\r\n            />\r\n          </view>\r\n        </view>\r\n        <view class=\"create-card-actions\">\r\n          <button class=\"btn ghost\" :disabled=\"creatingCards\" @tap=\"closeCreateCardModal\">取消</button>\r\n          <button class=\"btn primary\" :disabled=\"creatingCards\" @tap=\"submitCreateCard\">\r\n            {{ creatingCards ? '生成中...' : '立即生成' }}\r\n          </button>\r\n        </view>\r\n      </view>\r\n    </view>\r\n\r\n    <view v-if=\"showGeneratedModal\" class=\"generated-modal\" @tap=\"closeGeneratedModal\">\r\n      <view class=\"generated-panel glass-card\" @tap.stop=\"\">\r\n        <view class=\"generated-header\">\r\n          <text class=\"generated-title\">生成卡密（{{ generatedCards.length }}）</text>\r\n          <button class=\"generated-close\" @tap=\"closeGeneratedModal\">关闭</button>\r\n        </view>\r\n        <scroll-view scroll-y class=\"generated-list\" :show-scrollbar=\"false\">\r\n          <view\r\n            v-for=\"card in generatedCards\"\r\n            :key=\"card\"\r\n            class=\"generated-item copyable\"\r\n            @longpress=\"copyValue(card)\"\r\n          >\r\n            {{ card }}\r\n          </view>\r\n        </scroll-view>\r\n        <view class=\"generated-actions\">\r\n          <button class=\"generated-btn\" @tap=\"copyGeneratedCards\" :disabled=\"!generatedCards.length\">复制全部</button>\r\n          <button class=\"generated-btn primary\" @tap=\"exportGeneratedCards\" :disabled=\"!generatedCards.length\">导出 TXT</button>\r\n        </view>\r\n      </view>\r\n    </view>\r\n  </view>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport { computed, onMounted, reactive, ref, watch } from 'vue';\r\nimport { storeToRefs } from 'pinia';\r\nimport DataTable from '@/components/DataTable.vue';\r\nimport StatusTag from '@/components/StatusTag.vue';\r\nimport SoftwarePicker from '@/components/SoftwarePicker.vue';\r\nimport DateTimePicker from '@/components/DateTimePicker.vue';\r\nimport { useAppStore } from '@/stores/app';\r\nimport { downloadTextFile } from '@/utils/download';\r\nimport { formatDurationFromSeconds } from '@/utils/time';\r\nimport type { CardSearchFilters, CardTypeInfo } from '@/common/types';\r\n\r\ntype CardActionType = 'enable' | 'disable' | 'unban';\r\n\r\ntype TableRow = {\r\n  key: string;\r\n  fullKey: string;\r\n  cardType: string;\r\n  status: 'enabled' | 'disabled' | 'unknown';\r\n  statusText: string;\r\n  owner: string;\r\n  createdAt: string;\r\n  activatedAt: string;\r\n  expireAt: string;\r\n  remark: string;\r\n  ip: string;\r\n  machineCodes: string[];\r\n};\r\n\r\nconst appStore = useAppStore();\r\nconst { cardKeys, cardTypes, cardTotal, selectedSoftware, agents } = storeToRefs(appStore);\r\nconst cardFilters = appStore.cardFilters;\r\n\r\nconst filtersForm = reactive({\r\n  keyword: '',\r\n  cardType: '',\r\n  status: '',\r\n  agent: '',\r\n  includeDescendants: true,\r\n  machineCode: '',\r\n  ip: '',\r\n  startTime: '',\r\n  endTime: ''\r\n});\r\n\r\nconst searchTypeOptions = [\r\n  { label: '智能匹配', value: 0 },\r\n  { label: '备注 / 机器码', value: 1 },\r\n  { label: 'IP 地址', value: 2 },\r\n  { label: '按卡种', value: 3 }\r\n];\r\n\r\nconst statusOptions = [\r\n  { label: '全部', value: '' },\r\n  { label: '启用', value: 'enabled' },\r\n  { label: '禁用', value: 'disabled' },\r\n  { label: '未知', value: 'unknown' }\r\n];\r\n\r\nconst pageSizeOptions = [20, 50, 100, 200];\r\n\r\nconst cardTypeIndex = ref(0);\r\nconst statusIndex = ref(0);\r\nconst agentIndex = ref(0);\r\nconst searchTypeIndex = ref(0);\r\nconst pageSizeIndex = ref(1);\r\nconst showGeneratedModal = ref(false);\r\nconst showCreateCardModal = ref(false);\r\nconst generatedCards = ref<string[]>([]);\r\nconst generatedCardType = ref('');\r\nconst creatingCards = ref(false);\r\nconst createCardForm = reactive({\r\n  cardTypeIndex: 0,\r\n  quantity: '1',\r\n  remarks: '',\r\n  customPrefix: ''\r\n});\r\n\r\nconst loading = computed(() => appStore.loading.cards);\r\nconst cardTypeOptions = computed(() => ['全部', ...cardTypes.value.map((item) => item.name)]);\r\nconst agentOptions = computed(() => ['全部', ...agents.value.map((item) => item.username)]);\r\nconst statusLabels = computed(() => statusOptions.map((item) => item.label));\r\nconst searchTypeLabels = computed(() => searchTypeOptions.map((item) => item.label));\r\nconst pageSizeLabels = computed(() => pageSizeOptions.map((item) => `${item} 条/页`));\r\nconst cardTypePickerLabels = computed(() => cardTypes.value.map((item) => formatCardTypeLabel(item)));\r\n\r\nconst rows = computed<TableRow[]>(() =>\r\n  cardKeys.value.map((item) => ({\r\n    key: item.key,\r\n    fullKey: item.key,\r\n    cardType: item.cardType,\r\n    status: item.status,\r\n    statusText: item.statusText,\r\n    owner: item.owner,\r\n    createdAt: item.createdAt,\r\n    activatedAt: item.activatedAt,\r\n    expireAt: item.expireAt,\r\n    remark: item.remark ?? '',\r\n    ip: item.ip ?? '--',\r\n    machineCodes: item.machineCodes || []\r\n  }))\r\n);\r\n\r\nconst currentPage = computed(() => cardFilters.page ?? 1);\r\nconst pageSize = computed(() => cardFilters.limit ?? pageSizeOptions[pageSizeIndex.value] ?? 50);\r\nconst totalPages = computed(() => {\r\n  const size = pageSize.value || 1;\r\n  return Math.max(1, Math.ceil((cardTotal.value || 0) / size));\r\n});\r\n\r\nconst summaryText = computed(() => `共 ${cardTotal.value} 条记录`);\r\n\r\nconst statusText = {\r\n  enabled: '启用',\r\n  disabled: '禁用',\r\n  unknown: '未知'\r\n} as const;\r\n\r\nconst statusMap = {\r\n  enabled: 'success',\r\n  disabled: 'warning',\r\n  unknown: 'info'\r\n} as const;\r\n\r\nconst columns = [\r\n  { key: 'key', label: '卡密编号', style: 'min-width:260rpx' },\r\n  { key: 'status', label: '状态', style: 'min-width:160rpx' },\r\n  { key: 'cardType', label: '卡密类型', style: 'min-width:200rpx' },\r\n  { key: 'owner', label: '归属代理', style: 'min-width:180rpx' },\r\n  { key: 'ip', label: '最近 IP', style: 'min-width:180rpx' },\r\n  { key: 'machineCodes', label: '绑定机器码', style: 'min-width:260rpx' },\r\n  { key: 'createdAt', label: '创建时间', style: 'min-width:220rpx' },\r\n  { key: 'activatedAt', label: '最近激活', style: 'min-width:220rpx' },\r\n  { key: 'expireAt', label: '到期时间', style: 'min-width:220rpx' },\r\n  { key: 'remark', label: '备注信息', style: 'min-width:220rpx' },\r\n  { key: 'fullKey', label: '完整卡密', style: 'min-width:280rpx' },\r\n  { key: 'operations', label: '操作', style: 'min-width:320rpx' }\r\n];\r\n\r\nconst actionState = reactive({ key: '', action: '' });\r\n\r\nconst disableDescendants = computed(() => !!filtersForm.agent);\r\n\r\nfunction formatCardTypeLabel(type: CardTypeInfo): string {\r\n  const durationText = formatDurationFromSeconds(type.duration);\r\n  return durationText ? `${type.name}（${durationText}）` : type.name;\r\n}\r\n\r\nfunction isActionBusy(key: string, action: string) {\r\n  return actionState.key === key && actionState.action === action;\r\n}\r\n\r\nfunction setActionBusy(key: string, action: string) {\r\n  actionState.key = key;\r\n  actionState.action = action;\r\n}\r\n\r\nfunction clearActionBusy() {\r\n  actionState.key = '';\r\n  actionState.action = '';\r\n}\r\n\r\nfunction openGeneratedModal(cards: string[], typeName: string) {\r\n  generatedCards.value = cards;\r\n  generatedCardType.value = typeName;\r\n  showGeneratedModal.value = true;\r\n}\r\n\r\nfunction closeGeneratedModal() {\r\n  showGeneratedModal.value = false;\r\n}\r\n\r\nfunction closeCreateCardModal() {\r\n  if (creatingCards.value) return;\r\n  showCreateCardModal.value = false;\r\n}\r\n\r\nfunction onCreateCardTypeChange(event: UniApp.PickerChangeEvent) {\r\n  createCardForm.cardTypeIndex = Number(event.detail.value) || 0;\r\n}\r\n\r\nfunction copyValue(value?: string) {\r\n  const text = (value ?? '').toString().trim();\r\n  if (!text) {\r\n    uni.showToast({ title: '无可复制内容', icon: 'none' });\r\n    return;\r\n  }\r\n  uni.setClipboardData({\r\n    data: text,\r\n    success: () => {\r\n      uni.showToast({ title: '已复制', icon: 'success', duration: 800 });\r\n    },\r\n    fail: () => {\r\n      uni.showToast({ title: '复制失败', icon: 'none' });\r\n    }\r\n  });\r\n}\r\n\r\nfunction copyGeneratedCards() {\r\n  if (!generatedCards.value.length) {\r\n    uni.showToast({ title: '无可复制内容', icon: 'none' });\r\n    return;\r\n  }\r\n  copyValue(generatedCards.value.join('\\n'));\r\n}\r\n\r\nfunction exportGeneratedCards() {\r\n  if (!generatedCards.value.length) {\r\n    uni.showToast({ title: '暂无卡密', icon: 'none' });\r\n    return;\r\n  }\r\n  const filename = `${generatedCardType.value || 'cards'}-${Date.now()}.txt`;\r\n  downloadTextFile(filename, generatedCards.value.join('\\n'));\r\n  uni.showToast({ title: '已导出', icon: 'success' });\r\n}\r\n\r\nfunction formatPickerValue(date: Date) {\r\n  const pad = (input: number) => input.toString().padStart(2, '0');\r\n  return `${date.getFullYear()}-${pad(date.getMonth() + 1)}-${pad(date.getDate())} ${pad(date.getHours())}:${pad(date.getMinutes())}`;\r\n}\r\n\r\nfunction normalizePickerValue(value?: string | null) {\r\n  if (!value) return '';\r\n  const trimmed = value.trim();\r\n  if (!trimmed) return '';\r\n  if (/^\\d{4}-\\d{2}-\\d{2}\\s\\d{2}:\\d{2}$/.test(trimmed)) {\r\n    return trimmed;\r\n  }\r\n  const parsed = new Date(trimmed.replace('T', ' ').replace(/\\//g, '-'));\r\n  if (Number.isNaN(parsed.getTime())) {\r\n    return '';\r\n  }\r\n  return formatPickerValue(parsed);\r\n}\r\n\r\nfunction syncFormFromFilters() {\r\n  const keywordSource = cardFilters.keyword || (Array.isArray(cardFilters.keywords) ? cardFilters.keywords.join(' ') : '');\r\n  filtersForm.keyword = keywordSource;\r\n  filtersForm.cardType = cardFilters.cardType || '';\r\n  filtersForm.status = cardFilters.status || '';\r\n  filtersForm.agent = cardFilters.agent || '';\r\n  filtersForm.includeDescendants = cardFilters.agent ? false : cardFilters.includeDescendants ?? true;\r\n  filtersForm.machineCode = cardFilters.machineCode || '';\r\n  filtersForm.ip = cardFilters.ip || '';\r\n  filtersForm.startTime = normalizePickerValue(cardFilters.startTime);\r\n  filtersForm.endTime = normalizePickerValue(cardFilters.endTime);\r\n\r\n  const typeName = filtersForm.cardType || '全部';\r\n  const typeIndex = cardTypeOptions.value.indexOf(typeName);\r\n  cardTypeIndex.value = typeIndex >= 0 ? typeIndex : 0;\r\n\r\n  const statusIdx = statusOptions.findIndex((item) => item.value === (filtersForm.status || ''));\r\n  statusIndex.value = statusIdx >= 0 ? statusIdx : 0;\r\n\r\n  const agentName = filtersForm.agent || '全部';\r\n  const agentIdx = agentOptions.value.indexOf(agentName);\r\n  agentIndex.value = agentIdx >= 0 ? agentIdx : 0;\r\n\r\n  const searchIdx = searchTypeOptions.findIndex((item) => item.value === (typeof cardFilters.searchType === 'number' ? cardFilters.searchType : 0));\r\n  searchTypeIndex.value = searchIdx >= 0 ? searchIdx : 0;\r\n\r\n  const sizeIdx = pageSizeOptions.findIndex((value) => value === (cardFilters.limit ?? 50));\r\n  pageSizeIndex.value = sizeIdx >= 0 ? sizeIdx : 1;\r\n}\r\nfunction onCardTypeChange(event: UniApp.PickerChangeEvent) {\r\n  const index = Number(event.detail.value);\r\n  cardTypeIndex.value = index;\r\n  filtersForm.cardType = index === 0 ? '' : cardTypeOptions.value[index] || '';\r\n}\r\n\r\nfunction onStatusChange(event: UniApp.PickerChangeEvent) {\r\n  const index = Number(event.detail.value);\r\n  statusIndex.value = index;\r\n  filtersForm.status = statusOptions[index]?.value ?? '';\r\n}\r\n\r\nfunction onAgentChange(event: UniApp.PickerChangeEvent) {\r\n  const index = Number(event.detail.value);\r\n  agentIndex.value = index;\r\n  filtersForm.agent = agentOptions.value[index] === '全部' ? '' : agentOptions.value[index] || '';\r\n  if (filtersForm.agent) {\r\n    filtersForm.includeDescendants = false;\r\n  } else {\r\n    filtersForm.includeDescendants = true;\r\n  }\r\n}\r\n\r\nfunction onSearchTypeChange(event: UniApp.PickerChangeEvent) {\r\n  const index = Number(event.detail.value);\r\n  searchTypeIndex.value = index;\r\n}\r\n\r\nfunction onDescendantChange(event: UniApp.SwitchChangeEvent) {\r\n  if (disableDescendants.value) {\r\n    filtersForm.includeDescendants = false;\r\n    return;\r\n  }\r\n  filtersForm.includeDescendants = event.detail.value;\r\n}\r\n\r\nasync function onPageSizeChange(event: UniApp.PickerChangeEvent) {\r\n  const index = Number(event.detail.value);\r\n  pageSizeIndex.value = index;\r\n  const size = pageSizeOptions[index] ?? 50;\r\n  try {\r\n    await appStore.loadCardKeys({ limit: size, page: 1 });\r\n  } catch (error) {\r\n    uni.__f__('error','at pages/cards/index.vue:554','onPageSizeChange error', error);\r\n  }\r\n}\r\n\r\nasync function submitSearch() {\r\n  if (!selectedSoftware.value) {\r\n    uni.showToast({ title: '请先选择软件位', icon: 'none' });\r\n    return;\r\n  }\r\n\r\n  const searchType = searchTypeOptions[searchTypeIndex.value]?.value ?? 0;\r\n  const startTime = normalizePickerValue(filtersForm.startTime);\r\n  const endTime = normalizePickerValue(filtersForm.endTime);\r\n\r\n  const payload: Partial<CardSearchFilters> = {\r\n    keyword: filtersForm.keyword.trim(),\r\n    cardType: filtersForm.cardType,\r\n    status: (filtersForm.status as CardSearchFilters['status']) || '',\r\n    agent: filtersForm.agent,\r\n    includeDescendants: filtersForm.agent ? false : filtersForm.includeDescendants,\r\n    machineCode: filtersForm.machineCode.trim(),\r\n    ip: filtersForm.ip.trim(),\r\n    startTime: startTime || undefined,\r\n    endTime: endTime || undefined,\r\n    searchType,\r\n    page: 1,\r\n    limit: pageSizeOptions[pageSizeIndex.value] ?? cardFilters.limit\r\n  };\r\n\r\n  try {\r\n    await appStore.loadCardKeys(payload);\r\n    uni.showToast({ title: '查询完成', icon: 'success' });\r\n  } catch (error) {\r\n    uni.__f__('error','at pages/cards/index.vue:587','submitSearch error', error);\r\n    uni.showToast({ title: '查询失败', icon: 'none' });\r\n  }\r\n}\r\n\r\nasync function resetFilters() {\r\n  filtersForm.keyword = '';\r\n  filtersForm.cardType = '';\r\n  filtersForm.status = '';\r\n  filtersForm.agent = '';\r\n  filtersForm.includeDescendants = true;\r\n  filtersForm.machineCode = '';\r\n  filtersForm.ip = '';\r\n  filtersForm.startTime = '';\r\n  filtersForm.endTime = '';\r\n  cardTypeIndex.value = 0;\r\n  statusIndex.value = 0;\r\n  agentIndex.value = 0;\r\n  searchTypeIndex.value = 0;\r\n  pageSizeIndex.value = pageSizeOptions.indexOf(50) >= 0 ? pageSizeOptions.indexOf(50) : 0;\r\n  await submitSearch();\r\n}\r\n\r\nasync function refreshList() {\r\n  try {\r\n    await appStore.loadCardKeys({ page: cardFilters.page, limit: cardFilters.limit });\r\n    uni.showToast({ title: '已刷新', icon: 'none' });\r\n  } catch (error) {\r\n    uni.__f__('error','at pages/cards/index.vue:615','refreshList error', error);\r\n  }\r\n}\r\n\r\nasync function changePage(page: number) {\r\n  if (page < 1 || page > totalPages.value) return;\r\n  try {\r\n    await appStore.loadCardKeys({ page });\r\n  } catch (error) {\r\n    uni.__f__('error','at pages/cards/index.vue:624','changePage error', error);\r\n  }\r\n}\r\n\r\nfunction confirmAction(message: string) {\r\n  return new Promise<boolean>((resolve) => {\r\n    uni.showModal({\r\n      title: '确认操作',\r\n      content: message,\r\n      confirmText: '确定',\r\n      cancelText: '取消',\r\n      success: (result) => resolve(!!result.confirm),\r\n      fail: () => resolve(false)\r\n    });\r\n  });\r\n}\r\n\r\nasync function handleStatusAction(row: TableRow, action: CardActionType) {\r\n  if (!row?.key) return;\r\n  const labels: Record<CardActionType, string> = {\r\n    enable: '启用',\r\n    disable: '禁用',\r\n    unban: '解除封禁'\r\n  };\r\n  const confirmed = await confirmAction(`确认${labels[action]}卡密：${row.key}？`);\r\n  if (!confirmed) {\r\n    return;\r\n  }\r\n  setActionBusy(row.key, action);\r\n  try {\r\n    const message = await appStore.updateCardStatus({ cardKey: row.key, action });\r\n    uni.showToast({ title: message || `${labels[action]}成功`, icon: 'success' });\r\n  } catch (error) {\r\n    uni.__f__('error','at pages/cards/index.vue:657','handleStatusAction error', error);\r\n    uni.showToast({ title: `${labels[action]}失败`, icon: 'none' });\r\n  } finally {\r\n    clearActionBusy();\r\n  }\r\n}\r\n\r\nasync function handleUnbind(row: TableRow) {\r\n  if (!row?.key) return;\r\n  const confirmed = await confirmAction(`确认解绑卡密：${row.key}？`);\r\n  if (!confirmed) {\r\n    return;\r\n  }\r\n  setActionBusy(row.key, 'unbind');\r\n  try {\r\n    const message = await appStore.unbindCard(row.key);\r\n    uni.showToast({ title: message || '解绑成功', icon: 'success' });\r\n  } catch (error) {\r\n    uni.__f__('error','at pages/cards/index.vue:675','handleUnbind error', error);\r\n    uni.showToast({ title: '解绑失败', icon: 'none' });\r\n  } finally {\r\n    clearActionBusy();\r\n  }\r\n}\r\n\r\nasync function createCard() {\r\n  await appStore.ensureReady();\r\n  if (!selectedSoftware.value) {\r\n    uni.showToast({ title: '请先选择软件位', icon: 'none' });\r\n    return;\r\n  }\r\n\r\n  const types = cardTypes.value.length ? cardTypes.value : await appStore.loadCardTypes(true);\r\n  if (!types || !types.length) {\r\n    uni.showToast({ title: '未获取到卡密类型', icon: 'none' });\r\n    return;\r\n  }\r\n  createCardForm.cardTypeIndex = Math.min(createCardForm.cardTypeIndex, Math.max(0, types.length - 1));\r\n  createCardForm.quantity = '1';\r\n  createCardForm.remarks = '';\r\n  createCardForm.customPrefix = '';\r\n  showCreateCardModal.value = true;\r\n}\r\n\r\nasync function submitCreateCard() {\r\n  if (creatingCards.value) return;\r\n\r\n  const type = cardTypes.value[createCardForm.cardTypeIndex];\r\n  if (!type) {\r\n    uni.showToast({ title: '请选择卡密类型', icon: 'none' });\r\n    return;\r\n  }\r\n\r\n  const quantityNumber = Number(createCardForm.quantity);\r\n  const normalizedQuantity = Math.min(500, Math.max(1, Math.floor(quantityNumber)));\r\n  if (!Number.isFinite(quantityNumber) || quantityNumber <= 0) {\r\n    uni.showToast({ title: '请输入 1-500 的数量', icon: 'none' });\r\n    return;\r\n  }\r\n\r\n  creatingCards.value = true;\r\n  uni.showLoading({ title: '生成中...', mask: true });\r\n  try {\r\n    createCardForm.quantity = normalizedQuantity.toString();\r\n    const result = await appStore.generateCards({\r\n      cardType: type.name,\r\n      quantity: normalizedQuantity,\r\n      remarks: createCardForm.remarks.trim(),\r\n      customPrefix: createCardForm.customPrefix.trim() || undefined\r\n    });\r\n    const generated = (result.generatedCards && result.generatedCards.length\r\n      ? result.generatedCards\r\n      : result.sampleCards || []) as string[];\r\n    if (generated.length) {\r\n      openGeneratedModal(generated, type.name || 'cards');\r\n    }\r\n    uni.showToast({ title: '生成成功', icon: 'success' });\r\n    showCreateCardModal.value = false;\r\n    createCardForm.remarks = '';\r\n    createCardForm.customPrefix = '';\r\n  } catch (error) {\r\n    uni.__f__('error','at pages/cards/index.vue:738','submitCreateCard error', error);\r\n    uni.showToast({ title: '生成失败', icon: 'none' });\r\n  } finally {\r\n    creatingCards.value = false;\r\n    uni.hideLoading();\r\n  }\r\n}\r\n\r\nfunction exportCard() {\r\n  if (!rows.value.length) {\r\n    uni.showToast({ title: '暂无卡密可导出', icon: 'none' });\r\n    return;\r\n  }\r\n\r\n  const header = ['卡密编号', '卡密类型', '状态', '归属代理', '最近IP', '绑定机器码', '创建时间', '最近激活', '到期时间', '备注信息'];\r\n  const csvRows = rows.value.map((row) =>\r\n    [\r\n      row.key,\r\n      row.cardType,\r\n      row.statusText || statusText[row.status],\r\n      row.owner,\r\n      row.ip || '',\r\n      row.machineCodes.join('|'),\r\n      row.createdAt,\r\n      row.activatedAt,\r\n      row.expireAt,\r\n      row.remark\r\n    ]\r\n      .map((value) => `\"${(value ?? '').toString().replace(/\"/g, '\"\"')}\"`)\r\n      .join(',')\r\n  );\r\n  const content = ['\\ufeff' + header.join(','), ...csvRows].join('\\n');\r\n  const filename = `cards-${Date.now()}.csv`;\r\n  downloadTextFile(filename, content, 'text/csv;charset=utf-8');\r\n  uni.showToast({ title: '导出成功', icon: 'success' });\r\n}\r\n\r\nwatch(\r\n  () => [\r\n    cardFilters.keyword,\r\n    cardFilters.cardType,\r\n    cardFilters.status,\r\n    cardFilters.agent,\r\n    cardFilters.includeDescendants,\r\n    cardFilters.machineCode,\r\n    cardFilters.ip,\r\n    cardFilters.startTime,\r\n    cardFilters.endTime,\r\n    cardFilters.searchType,\r\n    cardFilters.limit\r\n  ],\r\n  () => {\r\n    syncFormFromFilters();\r\n  },\r\n  { immediate: true }\r\n);\r\n\r\nwatch(cardTypeOptions, () => syncFormFromFilters());\r\nwatch(agentOptions, () => syncFormFromFilters());\r\n\r\nwatch(\r\n  () => cardTypes.value,\r\n  (next) => {\r\n    if (!next || !next.length) {\r\n      showCreateCardModal.value = false;\r\n      createCardForm.cardTypeIndex = 0;\r\n      return;\r\n    }\r\n    if (createCardForm.cardTypeIndex >= next.length) {\r\n      createCardForm.cardTypeIndex = 0;\r\n    }\r\n  },\r\n  { immediate: true, deep: false }\r\n);\r\n\r\nonMounted(async () => {\r\n  await appStore.ensureReady();\r\n  try {\r\n    await Promise.all([\r\n      appStore.loadCardKeys(),\r\n      appStore.loadCardTypes(),\r\n      appStore.loadAgents({ limit: 200 })\r\n    ]);\r\n  } catch (error) {\r\n    uni.__f__('error','at pages/cards/index.vue:822','cards/onMounted error', error);\r\n  } finally {\r\n    syncFormFromFilters();\r\n  }\r\n});\r\n\r\nwatch(\r\n  () => selectedSoftware.value,\r\n  async (next, prev) => {\r\n    if (!next || next === prev) return;\r\n    filtersForm.keyword = '';\r\n    filtersForm.cardType = '';\r\n    filtersForm.status = '';\r\n    filtersForm.agent = '';\r\n    filtersForm.includeDescendants = true;\r\n    filtersForm.machineCode = '';\r\n    filtersForm.ip = '';\r\n    filtersForm.startTime = '';\r\n    filtersForm.endTime = '';\r\n    cardTypeIndex.value = 0;\r\n    statusIndex.value = 0;\r\n    agentIndex.value = 0;\r\n    searchTypeIndex.value = 0;\r\n    pageSizeIndex.value = pageSizeOptions.indexOf(50) >= 0 ? pageSizeOptions.indexOf(50) : 0;\r\n    try {\r\n      await Promise.all([\r\n        appStore.loadCardKeys({ page: 1 }),\r\n        appStore.loadCardTypes(true),\r\n        appStore.loadAgents({ limit: 200, page: 1, keyword: '' })\r\n      ]);\r\n    } catch (error) {\r\n      uni.__f__('error','at pages/cards/index.vue:853','selectedSoftware change error', error);\r\n    } finally {\r\n      syncFormFromFilters();\r\n    }\r\n  }\r\n);\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n.page {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 32rpx;\r\n  padding: 40rpx 28rpx 80rpx;\r\n}\r\n\r\n.header {\r\n  padding: 32rpx;\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 18rpx;\r\n\r\n  @media (min-width: 768px) {\r\n    flex-direction: row;\r\n    align-items: center;\r\n    justify-content: space-between;\r\n  }\r\n}\r\n\r\n.header-main {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 8rpx;\r\n}\r\n\r\n.title {\r\n  font-size: 42rpx;\r\n  font-weight: 600;\r\n  color: #f8fafc;\r\n  color: var(--text-primary);\r\n}\r\n\r\n.subtitle {\r\n  font-size: 26rpx;\r\n  color: rgba(148, 163, 184, 0.75);\r\n  color: var(--text-muted);\r\n}\r\n\r\n.header-actions {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  gap: 16rpx;\r\n  align-items: center;\r\n}\r\n\r\n.header-btn {\r\n  padding: 16rpx 30rpx;\r\n  border-radius: 999rpx;\r\n  background: linear-gradient(135deg, rgba(56, 189, 248, 0.85), rgba(99, 102, 241, 0.85));\r\n  background: var(--accent-gradient);\r\n  color: #04101c;\r\n  font-size: 26rpx;\r\n  font-weight: 600;\r\n  border: none;\r\n}\r\n\r\n.header-btn.ghost {\r\n  background: transparent;\r\n  border: 1rpx solid rgba(148, 163, 184, 0.24);\r\n  border: 1rpx solid var(--outline-color);\r\n  color: rgba(148, 163, 184, 0.75);\r\n  color: var(--text-muted);\r\n}\r\n\r\n.header-btn:disabled {\r\n  opacity: 0.6;\r\n}\r\n\r\n.filters {\r\n  padding: 32rpx;\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 28rpx;\r\n}\r\n\r\n.filters-grid {\r\n  display: grid;\r\n  grid-template-columns: repeat(auto-fit, minmax(220rpx, 1fr));\r\n  gap: 20rpx;\r\n}\r\n\r\n.field {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 12rpx;\r\n}\r\n\r\n.field--full {\r\n  grid-column: 1 / -1;\r\n}\r\n\r\n.label {\r\n  font-size: 24rpx;\r\n  color: rgba(148, 163, 184, 0.75);\r\n  color: var(--text-muted);\r\n}\r\n\r\n.input,\r\n.textarea,\r\n.picker-display {\r\n  width: 100%;\r\n  padding: 20rpx 24rpx;\r\n  border-radius: 18rpx;\r\n  background: rgba(12, 19, 33, 0.55);\r\n  background: var(--surface-light);\r\n  border: 1rpx solid rgba(148, 163, 184, 0.24);\r\n  border: 1rpx solid var(--outline-color);\r\n  color: #f8fafc;\r\n  color: var(--text-primary);\r\n  font-size: 26rpx;\r\n}\r\n\r\n.textarea {\r\n  min-height: 120rpx;\r\n}\r\n\r\n.picker-display {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n}\r\n\r\n.switch-field {\r\n  flex-direction: row;\r\n  align-items: center;\r\n  gap: 18rpx;\r\n}\r\n\r\n.hint {\r\n  font-size: 22rpx;\r\n  color: rgba(148, 163, 184, 0.75);\r\n  color: var(--text-muted);\r\n}\r\n\r\n.filter-actions {\r\n  display: flex;\r\n  gap: 16rpx;\r\n  flex-wrap: wrap;\r\n}\r\n\r\n.btn {\r\n  padding: 18rpx 36rpx;\r\n  border-radius: 999rpx;\r\n  border: none;\r\n  font-size: 26rpx;\r\n  font-weight: 600;\r\n}\r\n\r\n.btn.primary {\r\n  background: linear-gradient(135deg, rgba(56, 189, 248, 0.85), rgba(99, 102, 241, 0.85));\r\n  background: var(--accent-gradient);\r\n  color: #04101c;\r\n}\r\n\r\n.btn.ghost {\r\n  background: transparent;\r\n  border: 1rpx solid rgba(148, 163, 184, 0.24);\r\n  border: 1rpx solid var(--outline-color);\r\n  color: rgba(148, 163, 184, 0.75);\r\n  color: var(--text-muted);\r\n}\r\n\r\n.mini-btn {\r\n  padding: 14rpx 28rpx;\r\n  border-radius: 999rpx;\r\n  border: 1rpx solid rgba(148, 163, 184, 0.24);\r\n  border: 1rpx solid var(--outline-color);\r\n  background: transparent;\r\n  color: rgba(148, 163, 184, 0.75);\r\n  color: var(--text-muted);\r\n  font-size: 24rpx;\r\n}\r\n\r\n.mini-btn.ghost {\r\n  color: #f8fafc;\r\n  color: var(--text-primary);\r\n}\r\n\r\n.filters .btn:disabled,\r\n.mini-btn:disabled {\r\n  opacity: 0.6;\r\n}\r\n\r\n.machine-list {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 10rpx;\r\n}\r\n\r\n.machine-item {\r\n  padding: 10rpx 16rpx;\r\n  border-radius: 12rpx;\r\n  background: rgba(12, 19, 33, 0.55);\r\n  background: var(--surface-light);\r\n  border: 1rpx solid rgba(148, 163, 184, 0.24);\r\n  border: 1rpx solid var(--outline-color);\r\n  font-size: 24rpx;\r\n  color: #f8fafc;\r\n  color: var(--text-primary);\r\n  word-break: break-all;\r\n  line-height: 1.45;\r\n}\r\n\r\n.placeholder {\r\n  color: rgba(148, 163, 184, 0.75);\r\n  color: var(--text-muted);\r\n  font-size: 24rpx;\r\n}\r\n\r\n.key-header {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 12rpx;\r\n  min-width: 0;\r\n}\r\n\r\n.copy-text {\r\n  display: inline-block;\r\n  max-width: 100%;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n  white-space: nowrap;\r\n  color: #f8fafc;\r\n  color: var(--text-primary);\r\n}\r\n\r\n.full-key {\r\n  color: #f8fafc;\r\n  color: var(--text-primary);\r\n  font-size: 26rpx;\r\n  line-height: 1.5;\r\n  word-break: break-all;\r\n}\r\n\r\n.remark {\r\n  color: #f8fafc;\r\n  color: var(--text-primary);\r\n  font-size: 24rpx;\r\n  line-height: 1.5;\r\n}\r\n\r\n.action-group {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  gap: 12rpx;\r\n}\r\n\r\n.action-btn {\r\n  padding: 12rpx 22rpx;\r\n  border-radius: 12rpx;\r\n  font-size: 24rpx;\r\n  border: 1rpx solid rgba(148, 163, 184, 0.24);\r\n  border: 1rpx solid var(--outline-color);\r\n  background: rgba(12, 19, 33, 0.55);\r\n  background: var(--surface-light);\r\n  color: #f8fafc;\r\n  color: var(--text-primary);\r\n}\r\n\r\n.action-btn.primary {\r\n  border-color: rgba(59, 130, 246, 0.4);\r\n  background: rgba(59, 130, 246, 0.16);\r\n  color: #dbeafe;\r\n}\r\n\r\n.action-btn.warn {\r\n  border-color: rgba(248, 113, 113, 0.45);\r\n  background: rgba(248, 113, 113, 0.12);\r\n  color: #f87171;\r\n  color: var(--danger-color);\r\n}\r\n\r\n.action-btn.ghost {\r\n  background: transparent;\r\n}\r\n\r\n.pagination {\r\n  padding: 26rpx 32rpx;\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 18rpx;\r\n\r\n  @media (min-width: 768px) {\r\n    flex-direction: row;\r\n    align-items: center;\r\n    justify-content: space-between;\r\n  }\r\n}\r\n\r\n.page-info {\r\n  font-size: 26rpx;\r\n  color: #f8fafc;\r\n  color: var(--text-primary);\r\n}\r\n\r\n.page-actions {\r\n  display: flex;\r\n  gap: 16rpx;\r\n}\r\n\r\n.page-btn {\r\n  padding: 16rpx 36rpx;\r\n  border-radius: 999rpx;\r\n  border: 1rpx solid rgba(148, 163, 184, 0.24);\r\n  border: 1rpx solid var(--outline-color);\r\n  background: transparent;\r\n  color: #f8fafc;\r\n  color: var(--text-primary);\r\n  font-size: 24rpx;\r\n}\r\n\r\n.create-card-modal {\r\n  position: fixed;\r\n  inset: 0;\r\n  background: rgba(5, 7, 15, 0.65);\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  padding: 40rpx;\r\n  z-index: 998;\r\n}\r\n\r\n.create-card-panel {\r\n  width: 100%;\r\n  max-width: 640rpx;\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 24rpx;\r\n}\r\n\r\n.create-card-header {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n}\r\n\r\n.create-card-title {\r\n  font-size: 32rpx;\r\n  font-weight: 600;\r\n  color: #f8fafc;\r\n  color: var(--text-primary);\r\n}\r\n\r\n.create-card-close {\r\n  padding: 10rpx 22rpx;\r\n  border-radius: 999rpx;\r\n  border: 1rpx solid rgba(148, 163, 184, 0.24);\r\n  border: 1rpx solid var(--outline-color);\r\n  background: transparent;\r\n  color: rgba(148, 163, 184, 0.75);\r\n  color: var(--text-muted);\r\n  font-size: 24rpx;\r\n}\r\n\r\n.create-card-body {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 20rpx;\r\n}\r\n\r\n.create-card-actions {\r\n  display: flex;\r\n  justify-content: flex-end;\r\n  gap: 16rpx;\r\n}\r\n\r\n.generated-modal {\r\n  position: fixed;\r\n  inset: 0;\r\n  background: rgba(5, 7, 15, 0.65);\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  padding: 40rpx;\r\n  z-index: 999;\r\n}\r\n\r\n.generated-panel {\r\n  width: 100%;\r\n  max-width: 680rpx;\r\n  max-height: 80vh;\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 24rpx;\r\n}\r\n\r\n.generated-header {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n}\r\n\r\n.generated-title {\r\n  font-size: 32rpx;\r\n  font-weight: 600;\r\n  color: #f8fafc;\r\n  color: var(--text-primary);\r\n}\r\n\r\n.generated-close {\r\n  padding: 10rpx 22rpx;\r\n  border-radius: 999rpx;\r\n  border: 1rpx solid rgba(148, 163, 184, 0.24);\r\n  border: 1rpx solid var(--outline-color);\r\n  background: transparent;\r\n  color: rgba(148, 163, 184, 0.75);\r\n  color: var(--text-muted);\r\n  font-size: 24rpx;\r\n}\r\n\r\n.generated-list {\r\n  max-height: 480rpx;\r\n}\r\n\r\n.generated-item {\r\n  padding: 16rpx 20rpx;\r\n  border-radius: 14rpx;\r\n  background: rgba(12, 19, 33, 0.55);\r\n  background: var(--surface-light);\r\n  border: 1rpx solid rgba(148, 163, 184, 0.24);\r\n  border: 1rpx solid var(--outline-color);\r\n  font-size: 26rpx;\r\n  color: #f8fafc;\r\n  color: var(--text-primary);\r\n  word-break: break-all;\r\n}\r\n\r\n.generated-item + .generated-item {\r\n  margin-top: 12rpx;\r\n}\r\n\r\n.generated-actions {\r\n  display: flex;\r\n  gap: 16rpx;\r\n  justify-content: flex-end;\r\n}\r\n\r\n.generated-btn {\r\n  padding: 14rpx 28rpx;\r\n  border-radius: 999rpx;\r\n  border: 1rpx solid rgba(148, 163, 184, 0.24);\r\n  border: 1rpx solid var(--outline-color);\r\n  background: transparent;\r\n  color: #f8fafc;\r\n  color: var(--text-primary);\r\n  font-size: 24rpx;\r\n}\r\n\r\n.generated-btn.primary {\r\n  border-color: rgba(59, 130, 246, 0.35);\r\n  background: rgba(59, 130, 246, 0.14);\r\n  color: #60a5fa;\r\n}\r\n</style>","import MiniProgramPage from 'C:/Users/Administrator/source/repos/wwwskbjxyz/SPTEST-V1/SProtectAgentWeb.Api/wwwroot/uniapp/pages/cards/index.vue'\nwx.createPage(MiniProgramPage)"],"names":["useAppStore","storeToRefs","reactive","ref","computed","formatDurationFromSeconds","uni","downloadTextFile","watch","onMounted"],"mappings":"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"}
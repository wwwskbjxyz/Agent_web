{"version":3,"file":"index.js","sources":["pages/index/index.vue","E:/HBuilderX.4.76.2025082103/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvaW5kZXgvaW5kZXgudnVl"],"sourcesContent":["<template>\r\n  <view class=\"page\">\r\n    <view class=\"hero glass-card\">\r\n      <view class=\"hero-text\">\r\n        <text class=\"hero-badge\">SProtect · 代理后台中心</text>\r\n        <text class=\"hero-title\">代理监控面板</text>\r\n        <text class=\"hero-subtitle\">\r\n          实时掌握软件激活、代理活跃度与卡密发放情况，支持桌面与移动端自适配。\r\n        </text>\r\n      </view>\r\n      <view class=\"hero-meta\">\r\n        <view class=\"meta-item\">\r\n          <text class=\"meta-label\">绑定软件码</text>\r\n          <picker\r\n            mode=\"selector\"\r\n            :range=\"bindingLabels\"\r\n            :value=\"bindingIndex\"\r\n            :disabled=\"bindingDisabled\"\r\n            @change=\"onBindingChange\"\r\n          >\r\n            <view :class=\"['picker-display', bindingDisabled ? 'picker-disabled' : '']\">\r\n              {{ currentBindingLabel }}\r\n            </view>\r\n          </picker>\r\n        </view>\r\n        <view class=\"meta-item\">\r\n          <text class=\"meta-label\">当前软件位</text>\r\n          <SoftwarePicker />\r\n        </view>\r\n        <view class=\"meta-item theme-item\">\r\n          <text class=\"meta-label\">主题样式</text>\r\n          <picker mode=\"selector\" :range=\"themeLabels\" :value=\"themeIndex\" @change=\"onThemeChange\">\r\n            <view class=\"picker-display\">{{ themeLabels[themeIndex] }}</view>\r\n          </picker>\r\n        </view>\r\n        <view class=\"meta-item account-item\">\r\n          <text class=\"meta-label\">登录账号</text>\r\n          <view class=\"account-info\">\r\n            <view class=\"account-avatar\">{{ profileInitial }}</view>\r\n            <text class=\"meta-value\">{{ profile?.name ?? '未登录' }}</text>\r\n          </view>\r\n        </view>\r\n        <view class=\"meta-item role-item\">\r\n          <text class=\"meta-label\">角色权限</text>\r\n          <view class=\"role-row\">\r\n            <text class=\"meta-value\">{{ profile?.role ?? '访客' }}</text>\r\n            <button class=\"meta-button ghost\" :disabled=\"isLoggingOut\" @tap=\"handleLogout\">\r\n              {{ isLoggingOut ? '正在退出...' : '退出登录' }}\r\n            </button>\r\n          </view>\r\n        </view>\r\n\r\n        <view class=\"meta-item wechat-item\" v-if=\"isWeChatMiniProgram\">\r\n          <view class=\"wechat-header\">\r\n            <text class=\"meta-label\">微信订阅</text>\r\n            <view class=\"wechat-status-group\">\r\n              <text class=\"wechat-status\">{{ wechatStatusText }}</text>\r\n              <view v-if=\"wechatDisplayName\" class=\"wechat-chip\">{{ wechatDisplayName }}</view>\r\n            </view>\r\n          </view>\r\n          <view class=\"wechat-actions\">\r\n            <button class=\"meta-button\" :disabled=\"wechatBusy\" @tap=\"handleWeChatBind\">\r\n              {{ wechatBindLabel }}\r\n            </button>\r\n            <button\r\n              v-if=\"isWeChatBound\"\r\n              class=\"meta-button ghost\"\r\n              :disabled=\"wechatBusy\"\r\n              @tap=\"handleWeChatUnbind\"\r\n            >\r\n              解绑\r\n            </button>\r\n          </view>\r\n          <view v-if=\"showSubscriptionPanel\" class=\"wechat-subscription\">\r\n            <view v-for=\"option in wechatTemplateOptions\" :key=\"option.key\" class=\"subscription-row\">\r\n              <view class=\"subscription-info\">\r\n                <text class=\"subscription-title\">{{ option.title }}</text>\r\n                <text class=\"subscription-desc\">{{ option.description }}</text>\r\n              </view>\r\n              <switch\r\n                class=\"subscription-switch\"\r\n                :checked=\"subscriptionState[option.key] !== false\"\r\n                @change=\"onSubscriptionToggle(option.key, $event.detail.value)\"\r\n                color=\"#22d3ee\"\r\n              />\r\n            </view>\r\n            <button\r\n              class=\"meta-button primary\"\r\n              :disabled=\"wechatSubscribeBusy\"\r\n              @tap=\"applySubscriptionRequests()\"\r\n            >\r\n              {{ wechatSubscribeBusy ? '授权中...' : '保存并请求订阅' }}\r\n            </button>\r\n            <text class=\"subscription-hint\">提示：仅对已开启的提醒类型发起订阅，可随时调整。</text>\r\n          </view>\r\n          <view v-else class=\"wechat-subscription empty\">\r\n            <text v-if=\"isWeChatBound\">未配置订阅模板，请联系平台管理员设置模板 ID。</text>\r\n            <text v-else>绑定微信后可开启通知提醒。</text>\r\n          </view>\r\n        </view>\r\n\r\n      </view>\r\n    </view>\r\n\r\n    <view class=\"quick-nav glass-card\">\r\n      <view class=\"quick-nav-title\">快捷导航</view>\r\n      <view class=\"quick-nav-grid\">\r\n        <view\r\n          v-for=\"item in quickNavItems\"\r\n          :key=\"item.path\"\r\n          class=\"quick-nav-item\"\r\n          @tap=\"goTo(item.path)\"\r\n        >\r\n          <view\r\n            v-if=\"item.badge\"\r\n            class=\"quick-nav-badge\"\r\n            :class=\"`badge-${item.badge.type}`\"\r\n          >\r\n            <view class=\"badge-main\">\r\n              <text class=\"badge-text\">{{ item.badge.label }}</text>\r\n              <text v-if=\"item.badge.value\" class=\"badge-count\">{{ item.badge.value }}</text>\r\n            </view>\r\n            <text v-if=\"item.badge.subtext\" class=\"badge-subtext\">{{ item.badge.subtext }}</text>\r\n          </view>\r\n          <view class=\"quick-nav-item-head\">{{ item.label }}</view>\r\n          <view class=\"quick-nav-item-desc\">{{ item.description }}</view>\r\n        </view>\r\n      </view>\r\n    </view>\r\n\r\n    <view v-if=\"systemInfo\" class=\"system glass-card\">\r\n      <view class=\"system-header\">\r\n        <text class=\"system-title\">服务器状态</text>\r\n        <text class=\"system-subtitle\">{{ systemInfo.machine }} · {{ systemInfo.os }}</text>\r\n      </view>\r\n      <view class=\"system-grid\">\r\n        <view class=\"system-item\">\r\n          <text class=\"system-label\">CPU 负载</text>\r\n          <text class=\"system-value\">{{ systemInfo.cpu }}</text>\r\n        </view>\r\n        <view class=\"system-item\">\r\n          <text class=\"system-label\">内存占用</text>\r\n          <text class=\"system-value\">{{ systemInfo.memory }}</text>\r\n        </view>\r\n        <view class=\"system-item\">\r\n          <text class=\"system-label\">运行时长</text>\r\n          <text class=\"system-value\">{{ systemInfo.uptime }}</text>\r\n        </view>\r\n        <view class=\"system-item\">\r\n          <text class=\"system-label\">最近启动</text>\r\n          <text class=\"system-value\">{{ systemInfo.boot }}</text>\r\n        </view>\r\n      </view>\r\n      <view v-if=\"systemInfo.warnings.length\" class=\"system-warning\">\r\n        <text v-for=\"(warning, index) in systemInfo.warnings\" :key=\"index\">{{ warning }}</text>\r\n      </view>\r\n    </view>\r\n\r\n    <view class=\"stat-grid\">\r\n      <StatCard\r\n        v-for=\"item in displayStats\"\r\n        :key=\"item.key\"\r\n        :title=\"item.label\"\r\n        :value=\"item.value\"\r\n        :delta=\"item.delta\"\r\n        :trend=\"item.trend\"\r\n      />\r\n    </view>\r\n\r\n    <TrendChart\r\n\r\n      title=\"过去 7 日总体态势\"\r\n      subtitle=\"包含封禁\"\r\n\r\n      :points=\"trendPoints\"\r\n      :total=\"trendTotal\"\r\n      total-label=\"最近7天总计\"\r\n      :max-value=\"trendMax\"\r\n    >\r\n      <template #extra>\r\n        <view class=\"chart-extra\">单位：综合评分</view>\r\n      </template>\r\n    </TrendChart>\r\n\r\n    <SubTrendChart\r\n      title=\"最近子代理 7 天激活趋势\"\r\n      subtitle=\"洞察各下级代理激活情况\"\r\n      :categories=\"subTrendData.categories\"\r\n      :series=\"subTrendData.series\"\r\n      :total=\"subTrendData.total\"\r\n    />\r\n\r\n    <view class=\"panel glass-card sales-panel\">\r\n      <view class=\"panel-header\">\r\n        <text class=\"panel-title\">销量查询</text>\r\n        <text class=\"panel-subtitle\">按卡种、状态、代理多条件筛选激活记录</text>\r\n      </view>\r\n      <view class=\"sales-form\">\r\n        <view class=\"form-field\">\r\n          <text class=\"form-label\">卡种</text>\r\n          <picker mode=\"selector\" :range=\"cardTypeOptions\" :value=\"cardTypeIndex\" @change=\"onCardTypeChange\">\r\n            <view class=\"picker-display\">{{ cardTypeOptions[cardTypeIndex] }}</view>\r\n          </picker>\r\n        </view>\r\n        <view class=\"form-field\">\r\n          <text class=\"form-label\">状态</text>\r\n          <picker mode=\"selector\" :range=\"statusOptions\" :value=\"statusIndex\" @change=\"onStatusChange\">\r\n            <view class=\"picker-display\">{{ statusOptions[statusIndex] }}</view>\r\n          </picker>\r\n        </view>\r\n        <view class=\"form-field\">\r\n          <text class=\"form-label\">代理</text>\r\n          <picker mode=\"selector\" :range=\"agentOptions\" :value=\"agentIndex\" @change=\"onAgentChange\">\r\n            <view class=\"picker-display\">{{ agentOptions[agentIndex] }}</view>\r\n          </picker>\r\n        </view>\r\n        <view class=\"form-field switch-field\">\r\n          <text class=\"form-label\">包含下级</text>\r\n          <switch :checked=\"salesForm.includeDescendants\" @change=\"(e) => (salesForm.includeDescendants = e.detail.value)\" />\r\n        </view>\r\n        <view class=\"form-field\">\r\n          <text class=\"form-label\">开始时间</text>\r\n          <DateTimePicker v-model=\"salesForm.startTime\" placeholder=\"选择开始时间\" />\r\n        </view>\r\n        <view class=\"form-field\">\r\n          <text class=\"form-label\">结束时间</text>\r\n          <DateTimePicker v-model=\"salesForm.endTime\" placeholder=\"选择结束时间\" />\r\n        </view>\r\n      </view>\r\n      <view class=\"sales-actions\">\r\n        <button class=\"btn primary\" :disabled=\"salesLoading\" @tap=\"submitSalesQuery\">\r\n          {{ salesLoading ? '查询中...' : '查询' }}\r\n        </button>\r\n        <button class=\"btn ghost\" :disabled=\"salesLoading\" @tap=\"resetSalesForm\">重置</button>\r\n      </view>\r\n      <view class=\"sales-result\" v-if=\"!salesLoading\">\r\n        <view class=\"sales-summary\">\r\n          <text class=\"sales-count\">激活数量：<text class=\"highlight\">{{ salesResult.count }}</text></text>\r\n          <text class=\"sales-total\">结算总额：<text class=\"highlight\">￥{{ formatCurrency(salesTotalAmount) }}</text></text>\r\n          <text class=\"sales-meta\">{{ salesSummary }}</text>\r\n        </view>\r\n        <view v-if=\"salesSettlements.length\" class=\"sales-settlement\">\r\n          <view class=\"settlement-header\">\r\n            <text class=\"settlement-col type\">卡种</text>\r\n            <text class=\"settlement-col count\">激活数量</text>\r\n            <text class=\"settlement-col price\">结算单价</text>\r\n            <text class=\"settlement-col total\">结算金额</text>\r\n          </view>\r\n          <view v-for=\"item in salesSettlements\" :key=\"item.cardType\" class=\"settlement-row\">\r\n            <text class=\"settlement-col type\">{{ item.cardType }}</text>\r\n            <text class=\"settlement-col count\">{{ item.count }}</text>\r\n            <text class=\"settlement-col price\">￥{{ formatCurrency(item.price) }}</text>\r\n            <text class=\"settlement-col total\">￥{{ formatCurrency(item.total) }}</text>\r\n          </view>\r\n        </view>\r\n        <view v-if=\"!salesResult.cards.length\" class=\"panel-empty\">暂无数据</view>\r\n        <view v-else class=\"sales-list\">\r\n          <view\r\n            v-for=\"item in paginatedSales\"\r\n            :key=\"`${item.card}-${item.activateTime}`\"\r\n            class=\"sales-entry glass-light\"\r\n          >\r\n            <view class=\"sales-field\">\r\n              <text class=\"sales-label\">卡密</text>\r\n              <text class=\"sales-value copyable\" @longpress=\"copyValue(item.card)\">{{ item.card }}</text>\r\n            </view>\r\n            <view class=\"sales-field\">\r\n              <text class=\"sales-label\">激活时间</text>\r\n              <text class=\"sales-value copyable\" @longpress=\"copyValue(item.activateTime || '-')\">\r\n                {{ item.activateTime || '-' }}\r\n              </text>\r\n            </view>\r\n          </view>\r\n          <view class=\"sales-pagination\" v-if=\"salesTotalPages > 1\">\r\n            <view class=\"sales-page-info\">第 {{ salesPage }} / {{ salesTotalPages }} 页</view>\r\n            <view class=\"sales-page-actions\">\r\n              <button class=\"page-btn\" :disabled=\"salesPage <= 1 || salesLoading\" @tap=\"changeSalesPage(salesPage - 1)\">\r\n                上一页\r\n              </button>\r\n              <button class=\"page-btn\" :disabled=\"salesPage >= salesTotalPages || salesLoading\" @tap=\"changeSalesPage(salesPage + 1)\">\r\n                下一页\r\n              </button>\r\n            </view>\r\n          </view>\r\n        </view>\r\n      </view>\r\n      <view v-else class=\"panel-empty\">查询中...</view>\r\n    </view>\r\n\r\n    <view class=\"layout-grid\">\r\n      <view class=\"panel glass-card\">\r\n        <view class=\"panel-header\">\r\n          <text class=\"panel-title\">代理中心公告</text>\r\n          <text class=\"panel-subtitle\">与渠道共享最新巡检、版本升级信息</text>\r\n        </view>\r\n        <view v-if=\"loadingDashboard\" class=\"panel-empty\">公告加载中...</view>\r\n        <view v-else-if=\"!announcements.length\" class=\"panel-empty\">暂无公告</view>\r\n        <view v-else class=\"announcement-list\">\r\n          <view v-for=\"item in announcements\" :key=\"item.id\" class=\"announcement-item\">\r\n            <text class=\"announcement-title\">{{ item.title }}</text>\r\n            <text class=\"announcement-content\">{{ item.content }}</text>\r\n            <view class=\"announcement-meta\">\r\n              <text>{{ item.updatedAt }}</text>\r\n            </view>\r\n          </view>\r\n        </view>\r\n      </view>\r\n\r\n      <view class=\"panel glass-card\">\r\n        <view class=\"panel-header\">\r\n          <text class=\"panel-title\">激活地区排行榜</text>\r\n          <text class=\"panel-subtitle\">核心地区授权分布情况</text>\r\n        </view>\r\n        <view v-if=\"loadingDashboard\" class=\"panel-empty\">数据同步中...</view>\r\n        <view v-else-if=\"!heatmap.length\" class=\"panel-empty\">暂无节点统计</view>\r\n        <view class=\"heatmap-grid\" v-else>\r\n          <view v-for=\"city in heatmap\" :key=\"city.name\" class=\"heatmap-item glass-light\">\r\n            <text class=\"heatmap-name\">{{ city.name }}</text>\r\n            <view class=\"heatmap-stats\">\r\n              <view>\r\n                <text class=\"heatmap-label\">激活量</text>\r\n                <text class=\"heatmap-value\">{{ city.count }}</text>\r\n              </view>\r\n              <view>\r\n                <text class=\"heatmap-label\">占比</text>\r\n                <text class=\"heatmap-value\">{{ city.percentage }}%</text>\r\n              </view>\r\n            </view>\r\n          </view>\r\n        </view>\r\n      </view>\r\n    </view>\r\n\r\n  </view>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport { computed, onMounted, reactive, ref, watch } from 'vue';\r\nimport { storeToRefs } from 'pinia';\r\nimport TrendChart from '@/components/TrendChart.vue';\r\nimport SubTrendChart from '@/components/SubTrendChart.vue';\r\nimport StatCard from '@/components/StatCard.vue';\r\nimport SoftwarePicker from '@/components/SoftwarePicker.vue';\r\nimport DateTimePicker from '@/components/DateTimePicker.vue';\r\nimport { useAppStore } from '@/stores/app';\r\nimport { usePlatformStore } from '@/stores/platform';\r\nimport { formatDateTime } from '@/utils/time';\r\nimport type { ThemePreference } from '@/utils/storage';\r\nimport type { PlatformBinding } from '@/common/types';\r\n\r\nconst appStore = useAppStore();\r\nconst {\r\n  dashboard,\r\n  systemStatus,\r\n  profile,\r\n  selectedSoftware,\r\n  cardTypes,\r\n  agents,\r\n  theme,\r\n  chatUnreadCount,\r\n  hasNewBlacklistLogs,\r\n  settlementHasReminder\r\n} = storeToRefs(appStore);\r\nconst platformStore = usePlatformStore();\r\nconst { agentWeChatBinding, agentWechatSubscriptions, wechatTemplates, wechatTemplatePreviews } = storeToRefs(platformStore);\r\n\r\nconst isWeChatMiniProgram = ref(false);\r\n\r\nisWeChatMiniProgram.value = true;\r\n\r\n\r\ninterface WeChatTemplateOption {\r\n  key: 'instant' | 'blacklist' | 'settlement';\r\n  title: string;\r\n  description: string;\r\n  templateId: string;\r\n  preview?: Record<string, string> | null;\r\n}\r\n\r\nconst isWeChatBound = computed(() => Boolean(agentWeChatBinding.value));\r\nconst wechatBusy = computed(\r\n  () =>\r\n    platformStore.loading.wechatBinding ||\r\n    platformStore.loading.wechatBind ||\r\n    platformStore.loading.wechatUnbind\r\n);\r\n\r\nconst wechatTemplateOptions = computed<WeChatTemplateOption[]>(() => {\r\n  const config = wechatTemplates.value;\r\n  if (!config) {\r\n    return [];\r\n  }\r\n  const candidates: WeChatTemplateOption[] = [\r\n    {\r\n      key: 'instant',\r\n      title: '即时沟通提醒',\r\n      description: '客户有新留言或待处理消息时提醒',\r\n      templateId: config.instantCommunication?.trim() ?? '',\r\n      preview: wechatTemplatePreviews.value?.['instant'] ?? null\r\n    },\r\n    {\r\n      key: 'blacklist',\r\n      title: '黑名单严重警告',\r\n      description: '黑名单记录触发时第一时间通知',\r\n      templateId: config.blacklistAlert?.trim() ?? '',\r\n      preview: wechatTemplatePreviews.value?.['blacklist'] ?? null\r\n    },\r\n    {\r\n      key: 'settlement',\r\n      title: '结算账单通知',\r\n      description: '结算周期到期后提醒待对账金额',\r\n      templateId: config.settlementNotice?.trim() ?? '',\r\n      preview: wechatTemplatePreviews.value?.['settlement'] ?? null\r\n    }\r\n  ];\r\n  return candidates.filter((item) => item.templateId.length >= 10 && !item.templateId.includes('...'));\r\n});\r\n\r\nconst subscriptionState = computed<Record<string, boolean>>(() => agentWechatSubscriptions.value ?? {});\r\nconst showSubscriptionPanel = computed(() => isWeChatBound.value && wechatTemplateOptions.value.length > 0);\r\n\r\nfunction maskOpenId(value?: string | null) {\r\n  if (!value) {\r\n    return '';\r\n  }\r\n  if (value.length <= 6) {\r\n    return value;\r\n  }\r\n  const prefix = value.slice(0, 4);\r\n  const suffix = value.slice(-3);\r\n  return `${prefix}***${suffix}`;\r\n}\r\n\r\nconst wechatDisplayName = computed(() => {\r\n  const binding = agentWeChatBinding.value;\r\n  if (!binding) {\r\n    return '';\r\n  }\r\n  const nickname = binding.nickname?.trim();\r\n  if (nickname) {\r\n    return nickname;\r\n  }\r\n  return maskOpenId(binding.openId);\r\n});\r\nconst wechatBindLabel = computed(() => {\r\n  if (wechatBusy.value) {\r\n    return '处理中...';\r\n  }\r\n  return isWeChatBound.value ? '重新绑定' : '绑定微信';\r\n});\r\n\r\nconst wechatStatusText = computed(() => {\r\n  if (!isWeChatMiniProgram.value) {\r\n    return '仅微信小程序支持';\r\n  }\r\n  if (wechatBusy.value && !agentWeChatBinding.value) {\r\n    return '加载中...';\r\n  }\r\n  return isWeChatBound.value ? '已绑定' : '未绑定';\r\n});\r\nconst wechatSubscribeBusy = ref(false);\r\n\r\nfunction onSubscriptionToggle(key: string, value: boolean) {\r\n  platformStore.setAgentWechatSubscription(key, value);\r\n}\r\n\r\nasync function applySubscriptionRequests(auto = false) {\r\n  if (!isWeChatMiniProgram.value) {\r\n    if (!auto) {\r\n      uni.showToast({ title: '请在微信小程序内操作', icon: 'none' });\r\n    }\r\n    return;\r\n  }\r\n\r\n  await platformStore.fetchWeChatTemplates().catch(() => undefined);\r\n  const selected = wechatTemplateOptions.value.filter((option) => (subscriptionState.value[option.key] ?? true));\r\n  if (!selected.length) {\r\n    if (!auto) {\r\n      uni.showToast({ title: '请至少开启一个提醒类型', icon: 'none' });\r\n    }\r\n    return;\r\n  }\r\n\r\n  const tmplIds = selected.map((option) => option.templateId);\r\n  wechatSubscribeBusy.value = true;\r\n  try {\r\n    await new Promise<void>((resolve, reject) => {\r\n      uni.requestSubscribeMessage({\r\n        tmplIds,\r\n        success: () => resolve(),\r\n        fail: (error) => reject(error)\r\n      });\r\n    });\r\n    if (!auto) {\r\n      uni.showToast({ title: '已提交订阅', icon: 'success' });\r\n    }\r\n\r\n    let previewDelivered = false;\r\n    for (const option of selected) {\r\n      const delivered = await platformStore.sendWeChatPreview('agent', option.key, auto);\r\n      previewDelivered = previewDelivered || delivered;\r\n    }\r\n\r\n    if (!auto && previewDelivered) {\r\n      uni.showToast({ title: '已发送测试提醒', icon: 'success' });\r\n    }\r\n  } catch (error) {\r\n    const rawMessage = (error as any)?.errMsg || (error as any)?.message || '';\r\n    if (typeof rawMessage === 'string' && rawMessage.includes('No template data return')) {\r\n      uni.showModal({\r\n        title: '订阅失败',\r\n        content: '微信返回“未找到模板”，请确认小程序已配置对应的订阅消息模板并在平台中填写正确的模板 ID。',\r\n        showCancel: false\r\n      });\r\n    } else if (!auto) {\r\n      const message = rawMessage || '订阅失败，请稍后重试';\r\n      uni.showToast({ title: message, icon: 'none' });\r\n    }\r\n  } finally {\r\n    wechatSubscribeBusy.value = false;\r\n  }\r\n}\r\n\r\nfunction seedDefaultSubscriptions() {\r\n  if (!isWeChatBound.value || !wechatTemplateOptions.value.length) {\r\n    return;\r\n  }\r\n  const current = subscriptionState.value;\r\n  if (current && Object.keys(current).length > 0) {\r\n    return;\r\n  }\r\n  wechatTemplateOptions.value.forEach((option) => {\r\n    platformStore.setAgentWechatSubscription(option.key, true);\r\n  });\r\n}\r\n\r\nconst bindingLoginBusy = ref(false);\r\nconst bindingLabels = computed(() =>\r\n  platformStore.bindings.map((item) => {\r\n    const mainLabel = item.authorDisplayName?.trim();\r\n    if (mainLabel) {\r\n      return mainLabel;\r\n    }\r\n    if (item.softwareType) {\r\n      return `${item.softwareType} (${item.softwareCode})`;\r\n    }\r\n    return item.softwareCode;\r\n  })\r\n);\r\n\r\nconst bindingIndex = computed(() => {\r\n  if (!platformStore.selectedBinding) {\r\n    return 0;\r\n  }\r\n  const index = platformStore.bindings.findIndex(\r\n    (binding) => binding.bindingId === platformStore.selectedBinding?.bindingId\r\n  );\r\n  return index >= 0 ? index : 0;\r\n});\r\n\r\nconst currentBindingLabel = computed(() => {\r\n  if (!platformStore.bindings.length) {\r\n    return '尚未绑定软件码';\r\n  }\r\n  if (!platformStore.selectedBinding) {\r\n    return bindingLabels.value[bindingIndex.value] ?? '请选择软件码';\r\n  }\r\n  if (!bindingLabels.value.length) {\r\n    const fallback = platformStore.selectedBinding;\r\n    if (!fallback) {\r\n      return '请选择软件码';\r\n    }\r\n    return fallback.authorDisplayName || fallback.softwareCode;\r\n  }\r\n  return bindingLabels.value[bindingIndex.value] ?? bindingLabels.value[0];\r\n});\r\n\r\nconst bindingDisabled = computed(\r\n  () => !platformStore.bindings.length || bindingLoginBusy.value || platformStore.loading.bindings\r\n);\r\n\r\nfunction mpLogin(): Promise<string> {\r\n  return new Promise((resolve, reject) => {\r\n    uni.login({\r\n      provider: 'weixin',\r\n      success: (res) => {\r\n        if (res.code) {\r\n          resolve(res.code);\r\n        } else {\r\n          reject(new Error('未获取到登录凭证'));\r\n        }\r\n      },\r\n      fail: (error) => reject(error)\r\n    });\r\n  });\r\n}\r\n\r\nasync function ensureWeChatBinding() {\r\n  if (!isWeChatMiniProgram.value || !platformStore.isAuthenticated) {\r\n    return;\r\n  }\r\n  await platformStore.fetchWeChatBinding('agent').catch(() => undefined);\r\n}\r\n\r\nwatch(\r\n  () => [agentWeChatBinding.value?.openId ?? null, wechatTemplateOptions.value.length],\r\n  () => {\r\n    seedDefaultSubscriptions();\r\n  },\r\n  { immediate: true }\r\n);\r\n\r\nasync function handleWeChatBind() {\r\n  if (!isWeChatMiniProgram.value) {\r\n    uni.showToast({ title: '请在微信小程序内操作', icon: 'none' });\r\n    return;\r\n  }\r\n  try {\r\n    const code = await mpLogin();\r\n    let nickname: string | undefined;\r\n    try {\r\n      if (typeof uni.getUserProfile === 'function') {\r\n        const profile = await new Promise<any>((resolve, reject) => {\r\n          uni.getUserProfile({\r\n            desc: '用于展示绑定的微信昵称',\r\n            success: (res) => resolve(res),\r\n            fail: (error) => reject(error)\r\n          });\r\n        });\r\n        nickname = profile.userInfo?.nickName;\r\n      }\r\n    } catch (error) {\r\n      uni.__f__('warn','at pages/index/index.vue:633','获取用户昵称失败，继续绑定', error);\r\n    }\r\n\r\n    await platformStore.bindWeChat('agent', code, nickname);\r\n    await platformStore.fetchWeChatTemplates().catch(() => undefined);\r\n    seedDefaultSubscriptions();\r\n    uni.showToast({ title: '绑定成功', icon: 'success' });\r\n\r\n    if (showSubscriptionPanel.value) {\r\n      uni.showModal({\r\n        title: '订阅提醒',\r\n        content: '是否立即授权接收微信通知？',\r\n        confirmText: '立即授权',\r\n        cancelText: '稍后',\r\n        success: (res) => {\r\n          if (res.confirm) {\r\n            applySubscriptionRequests(true).catch(() => undefined);\r\n          }\r\n        }\r\n      });\r\n    }\r\n  } catch (error) {\r\n    const message =\r\n      (error as any)?.errMsg || (error as any)?.message || '绑定失败，请稍后重试';\r\n    uni.showToast({ title: message, icon: 'none' });\r\n  }\r\n}\r\n\r\nasync function handleWeChatUnbind() {\r\n  if (!isWeChatMiniProgram.value || !isWeChatBound.value) {\r\n    return;\r\n  }\r\n\r\n  const confirmed = await new Promise<boolean>((resolve) => {\r\n    uni.showModal({\r\n      title: '确认解绑',\r\n      content: '解绑后将无法接收订阅提醒，是否继续？',\r\n      success: (res) => resolve(res.confirm),\r\n      fail: () => resolve(false)\r\n    });\r\n  });\r\n\r\n  if (!confirmed) {\r\n    return;\r\n  }\r\n\r\n  try {\r\n    await platformStore.unbindWeChat('agent');\r\n    uni.showToast({ title: '已解绑', icon: 'success' });\r\n  } catch (error) {\r\n    const message =\r\n      (error as any)?.errMsg || (error as any)?.message || '解绑失败，请稍后重试';\r\n    uni.showToast({ title: message, icon: 'none' });\r\n  }\r\n}\r\n\r\nconst stats = computed(() => dashboard.value.stats ?? []);\r\nconst displayStats = computed(() =>\r\n  stats.value.map((item) => ({\r\n    key: item.key,\r\n    label: item.label,\r\n    value: item.value,\r\n    delta: 0,\r\n    trend: 'flat' as const\r\n  }))\r\n);\r\n\r\nconst trendPoints = computed(() => dashboard.value.trend ?? []);\r\nconst trendTotal = computed(() => dashboard.value.trendTotal ?? 0);\r\nconst trendMax = computed(() => Math.max(0, Math.ceil(dashboard.value.trendMax ?? 0)));\r\nconst subTrendData = computed(() => dashboard.value.subAgentTrend ?? { categories: [], series: [], total: 0 });\r\nconst announcements = computed(() => dashboard.value.announcements ?? []);\r\nconst heatmap = computed(() => dashboard.value.usageHeatmap ?? []);\r\n\r\nconst profileInitial = computed(() => {\r\n  const name = profile.value?.name?.trim();\r\n  if (!name) {\r\n    return '访';\r\n  }\r\n  return name.charAt(0).toUpperCase();\r\n});\r\n\r\nconst loadingDashboard = computed(() => appStore.loading.dashboard);\r\nconst salesLoading = computed(() => appStore.loading.sales);\r\nconst isLoggingOut = computed(() => appStore.loading.logout);\r\n\r\nconst salesResult = computed(() => dashboard.value.salesResult ?? { count: 0, cards: [] });\r\nconst salesSettlements = computed(() => salesResult.value.settlements ?? []);\r\nconst salesTotalAmount = computed(() => Number(salesResult.value.totalAmount ?? 0));\r\nconst SALES_PAGE_SIZE = 20;\r\nconst salesPage = ref(1);\r\nconst paginatedSales = computed(() => {\r\n  const items = salesResult.value.cards || [];\r\n  const start = (salesPage.value - 1) * SALES_PAGE_SIZE;\r\n  return items.slice(start, start + SALES_PAGE_SIZE);\r\n});\r\nconst salesTotalPages = computed(() => {\r\n  const total = salesResult.value.cards?.length ?? 0;\r\n  return Math.max(1, Math.ceil(total / SALES_PAGE_SIZE));\r\n});\r\nconst salesSummary = computed(() => {\r\n  const filters = dashboard.value.salesFilters;\r\n  if (!filters) {\r\n    return '';\r\n  }\r\n  const rangeStart = filters.startTime ?? '-';\r\n  const rangeEnd = filters.endTime ?? '-';\r\n  const agent = filters.agent ? filters.agent : '全部';\r\n  return `时间：${rangeStart || '-'} ~ ${rangeEnd || '-'}，代理：${agent || '全部'}`;\r\n});\r\n\r\nconst cardTypeOptions = computed(() => ['全部', ...cardTypes.value.map((item) => item.name)]);\r\nconst statusOptions = ['全部', '启用', '禁用'];\r\nconst agentOptions = computed(() => ['全部', ...agents.value.map((item) => item.username)]);\r\n\r\nconst cardTypeIndex = ref(0);\r\nconst statusIndex = ref(0);\r\nconst agentIndex = ref(0);\r\n\r\nconst salesForm = reactive({\r\n  cardType: '',\r\n  status: '',\r\n  agent: '',\r\n  includeDescendants: true,\r\n  startTime: '',\r\n  endTime: ''\r\n});\r\n\r\nconst themeOptions: Array<{ label: string; value: ThemePreference }> = [\r\n  { label: '暗夜', value: 'dark' },\r\n  { label: '明亮', value: 'light' },\r\n  { label: '卡通', value: 'cartoon' }\r\n];\r\nconst themeLabels = themeOptions.map((item) => item.label);\r\nconst themeIndex = ref(0);\r\n\r\ninterface QuickLinkItem {\r\n  label: string;\r\n  description: string;\r\n  path: string;\r\n}\r\n\r\ninterface QuickLinkBadge {\r\n  type: 'info' | 'alert';\r\n  label: string;\r\n  value?: string;\r\n  subtext?: string;\r\n}\r\n\r\ntype QuickNavItem = QuickLinkItem & { badge?: QuickLinkBadge };\r\n\r\nconst baseQuickLinks: QuickLinkItem[] = [\r\n  { label: '软件绑定管理', description: '新增、修改与删除绑定软件码', path: '/pages/agent/bind' },\r\n  { label: '结算设置', description: '为当前账号维护各卡密类型的结算价格', path: '/pages/agent/settlement' },\r\n  { label: '卡密管理', description: '搜索、启用禁用与解绑操作', path: '/pages/cards/index' },\r\n  { label: '代理管理', description: '封禁启用、加款与权限配置', path: '/pages/agents/index' },\r\n  { label: '即时沟通', description: '与渠道实时协同巡检', path: '/pages/chat/index' },\r\n  { label: '卡密验证', description: '批量验证与下载链接', path: '/pages/verify/index' },\r\n  { label: '黑名单记录', description: '查询黑名单触发日志', path: '/pages/blacklist/logs/index' },\r\n  { label: '黑名单机器码', description: '管理封禁机器码', path: '/pages/blacklist/machines/index' }\r\n];\r\n\r\nconst quickNavItems = computed<QuickNavItem[]>(() => {\r\n  const unread = chatUnreadCount.value;\r\n  const hasBlacklistAlert = hasNewBlacklistLogs.value;\r\n\r\n  return baseQuickLinks.map((item) => {\r\n    const next: QuickNavItem = { ...item };\r\n    if (item.path === '/pages/chat/index' && unread > 0) {\r\n      next.badge = {\r\n        type: 'info',\r\n        label: '新消息',\r\n        value: unread > 99 ? '99+' : String(unread)\r\n      };\r\n    } else if (item.path === '/pages/agent/settlement' && settlementHasReminder.value) {\r\n      next.badge = {\r\n        type: 'alert',\r\n        label: '待结算',\r\n        subtext: '请尽快处理'\r\n      };\r\n    } else if (item.path === '/pages/blacklist/logs/index' && hasBlacklistAlert) {\r\n      next.badge = {\r\n        type: 'alert',\r\n        label: '严重警告',\r\n        subtext: '有人尝试破解'\r\n      };\r\n    }\r\n    return next;\r\n  });\r\n});\r\n\r\nconst systemInfo = computed(() => {\r\n  const info = systemStatus.value;\r\n  if (!info) return null;\r\n  return {\r\n    machine: info.machineName || '未识别主机',\r\n    os: info.osDescription || '未知系统',\r\n    cpu: info.cpuLoadPercentage != null ? `${info.cpuLoadPercentage.toFixed(1)}%` : '--',\r\n    memory: info.memoryUsagePercentage != null ? `${info.memoryUsagePercentage.toFixed(1)}%` : '--',\r\n    uptime: formatDuration(info.uptimeSeconds),\r\n    boot: info.bootTime ? formatDateTime(info.bootTime) : '--',\r\n    warnings: Array.isArray(info.warnings) ? info.warnings : []\r\n  };\r\n});\r\n\r\nfunction formatPickerValue(date: Date) {\r\n  const pad = (value: number) => value.toString().padStart(2, '0');\r\n  return `${date.getFullYear()}-${pad(date.getMonth() + 1)}-${pad(date.getDate())} ${pad(date.getHours())}:${pad(date.getMinutes())}`;\r\n}\r\n\r\nfunction normalizePickerValue(value?: string | null) {\r\n  if (!value) return '';\r\n  const trimmed = value.trim();\r\n  if (!trimmed) return '';\r\n  if (/^\\d{4}-\\d{2}-\\d{2}\\s\\d{2}:\\d{2}$/.test(trimmed)) {\r\n    return trimmed;\r\n  }\r\n  const parsed = new Date(trimmed.replace('T', ' ').replace(/\\//g, '-'));\r\n  if (Number.isNaN(parsed.getTime())) {\r\n    return '';\r\n  }\r\n  return formatPickerValue(parsed);\r\n}\r\n\r\nfunction formatDateTimeForApi(value: string) {\r\n  return normalizePickerValue(value);\r\n}\r\n\r\nfunction formatCurrency(value?: number) {\r\n  const amount = Number(value ?? 0);\r\n  if (!Number.isFinite(amount)) {\r\n    return '0.00';\r\n  }\r\n  return amount.toFixed(2);\r\n}\r\n\r\nfunction applySalesFilters(filters?: Partial<ReturnType<typeof dashboard.value['salesFilters']>>) {\r\n  const now = new Date();\r\n  const defaultStart = new Date(now.getTime() - 6 * 24 * 60 * 60 * 1000);\r\n  salesForm.cardType = filters?.cardType ?? '';\r\n  salesForm.status = filters?.status ?? '';\r\n  salesForm.agent = filters?.agent ?? '';\r\n  salesForm.includeDescendants = filters?.includeDescendants ?? true;\r\n  salesForm.startTime = normalizePickerValue(filters?.startTime) || formatPickerValue(defaultStart);\r\n  salesForm.endTime = normalizePickerValue(filters?.endTime) || formatPickerValue(now);\r\n\r\n  cardTypeIndex.value = Math.max(0, cardTypeOptions.value.indexOf(salesForm.cardType || '全部'));\r\n  statusIndex.value = Math.max(0, statusOptions.indexOf(salesForm.status || '全部'));\r\n  agentIndex.value = Math.max(0, agentOptions.value.indexOf(salesForm.agent || '全部'));\r\n\r\n  salesPage.value = 1;\r\n}\r\n\r\nfunction copyValue(value?: string) {\r\n  const text = (value ?? '').toString().trim();\r\n  if (!text) {\r\n    uni.showToast({ title: '无可复制内容', icon: 'none' });\r\n    return;\r\n  }\r\n  uni.setClipboardData({\r\n    data: text,\r\n    success: () => {\r\n      uni.showToast({ title: '已复制', icon: 'success', duration: 800 });\r\n    },\r\n    fail: () => {\r\n      uni.showToast({ title: '复制失败', icon: 'none' });\r\n    }\r\n  });\r\n}\r\n\r\nfunction changeSalesPage(next: number) {\r\n  if (next < 1 || next > salesTotalPages.value || next === salesPage.value) {\r\n    return;\r\n  }\r\n  salesPage.value = next;\r\n}\r\n\r\nfunction onThemeChange(event: UniApp.PickerChangeEvent) {\r\n  const index = Number(event.detail.value);\r\n  const option = themeOptions[index] ?? themeOptions[0];\r\n  themeIndex.value = index;\r\n  appStore.setTheme(option.value);\r\n}\r\n\r\nasync function handleLogout() {\r\n  if (isLoggingOut.value) {\r\n    return;\r\n  }\r\n  try {\r\n    await appStore.logout();\r\n  } catch (error) {\r\n    uni.__f__('error','at pages/index/index.vue:924','退出登录失败', error);\r\n    uni.showToast({ title: '退出失败，请重试', icon: 'none' });\r\n  }\r\n}\r\n\r\nfunction resetSalesForm() {\r\n  applySalesFilters({ includeDescendants: true });\r\n  appStore.clearSalesResult({\r\n    includeDescendants: salesForm.includeDescendants,\r\n    cardType: '',\r\n    status: '',\r\n    agent: '',\r\n    startTime: salesForm.startTime,\r\n    endTime: salesForm.endTime\r\n  });\r\n}\r\n\r\nasync function submitSalesQuery() {\r\n  if (!selectedSoftware.value) {\r\n    uni.showToast({ title: '请先选择软件位', icon: 'none' });\r\n    return;\r\n  }\r\n\r\n  try {\r\n    const startTime = formatDateTimeForApi(salesForm.startTime);\r\n    const endTime = formatDateTimeForApi(salesForm.endTime);\r\n    await appStore.runSalesQuery({\r\n      cardType: salesForm.cardType || undefined,\r\n      status: salesForm.status || undefined,\r\n      agent: salesForm.agent || undefined,\r\n      includeDescendants: salesForm.includeDescendants,\r\n      startTime: startTime || undefined,\r\n      endTime: endTime || undefined\r\n    });\r\n    uni.showToast({ title: '查询完成', icon: 'success' });\r\n  } catch (error) {\r\n    uni.__f__('error','at pages/index/index.vue:960','submitSalesQuery error', error);\r\n    uni.showToast({ title: '查询失败', icon: 'none' });\r\n  }\r\n}\r\n\r\nfunction onCardTypeChange(event: UniApp.PickerChangeEvent) {\r\n  const index = Number(event.detail.value);\r\n  cardTypeIndex.value = index;\r\n  salesForm.cardType = index === 0 ? '' : cardTypeOptions.value[index];\r\n}\r\n\r\nfunction onStatusChange(event: UniApp.PickerChangeEvent) {\r\n  const index = Number(event.detail.value);\r\n  statusIndex.value = index;\r\n  salesForm.status = index === 0 ? '' : statusOptions[index];\r\n}\r\n\r\nfunction onAgentChange(event: UniApp.PickerChangeEvent) {\r\n  const index = Number(event.detail.value);\r\n  agentIndex.value = index;\r\n  salesForm.agent = index === 0 ? '' : agentOptions.value[index];\r\n}\r\n\r\nasync function loginWithBinding(binding: PlatformBinding, options?: { silent?: boolean }) {\r\n  if (!binding.authorAccount || !binding.authorPassword) {\r\n    return;\r\n  }\r\n  bindingLoginBusy.value = true;\r\n  try {\r\n    await appStore.login(\r\n      { username: binding.authorAccount, password: binding.authorPassword },\r\n      { skipBootstrap: false }\r\n    );\r\n  } catch (error) {\r\n    if (!options?.silent) {\r\n      const message =\r\n        (error as any)?.message && typeof (error as any).message === 'string'\r\n          ? (error as any).message\r\n          : '同步作者登录失败';\r\n      uni.showToast({ title: message, icon: 'none' });\r\n    }\r\n    throw error;\r\n  } finally {\r\n    bindingLoginBusy.value = false;\r\n  }\r\n}\r\n\r\nfunction onBindingChange(event: UniApp.PickerChangeEvent) {\r\n  const index = Number(event.detail.value ?? bindingIndex.value);\r\n  const binding = platformStore.bindings[index];\r\n  if (!binding) {\r\n    return;\r\n  }\r\n  if (platformStore.selectedBinding?.bindingId === binding.bindingId) {\r\n    return;\r\n  }\r\n  platformStore.selectBinding(binding);\r\n  loginWithBinding(binding, { silent: true })\r\n    .then(() => {\r\n      uni.showToast({ title: `已切换 ${binding.softwareCode}`, icon: 'success' });\r\n    })\r\n    .catch(() => {\r\n      /* 提示已在 loginWithBinding 处理 */\r\n    });\r\n}\r\n\r\nonMounted(async () => {\r\n  if (!platformStore.isAuthenticated) {\r\n    uni.reLaunch({ url: '/pages/login/agent' });\r\n    return;\r\n  }\r\n\r\n  await ensureWeChatBinding();\r\n\r\n  if (isWeChatMiniProgram.value) {\r\n    platformStore.fetchWeChatTemplates().catch(() => undefined);\r\n  }\r\n\r\n  if (!platformStore.bindings.length) {\r\n    await platformStore.fetchAgentProfile();\r\n  }\r\n\r\n  if (!platformStore.selectedBinding && platformStore.bindings.length) {\r\n    platformStore.selectBinding(platformStore.bindings[0]);\r\n  }\r\n\r\n  if (!platformStore.selectedBinding) {\r\n    uni.showModal({\r\n      title: '尚未绑定作者',\r\n      content: '请先绑定软件码后再访问控制台。',\r\n      showCancel: false,\r\n      success: () => {\r\n        uni.navigateTo({ url: '/pages/agent/bind' });\r\n      }\r\n    });\r\n    return;\r\n  }\r\n\r\n  try {\r\n    await loginWithBinding(platformStore.selectedBinding, { silent: true });\r\n  } catch (error) {\r\n    uni.__f__('warn','at pages/index/index.vue:1061','自动同步作者凭证失败', error);\r\n  }\r\n\r\n  await appStore.ensureReady();\r\n  await appStore.loadDashboard();\r\n  await Promise.all([\r\n    appStore.loadCardTypes(),\r\n    appStore.loadAgents({ limit: 200 }),\r\n    appStore.loadChatSessions().catch((error) => {\r\n      uni.__f__('warn','at pages/index/index.vue:1070','加载即时沟通会话失败', error);\r\n    }),\r\n    appStore.loadBlacklistLogs(100).catch((error) => {\r\n      uni.__f__('warn','at pages/index/index.vue:1073','加载黑名单日志失败', error);\r\n    })\r\n  ]);\r\n  applySalesFilters(dashboard.value.salesFilters ?? { includeDescendants: true });\r\n});\r\n\r\nwatch(\r\n  () => selectedSoftware.value,\r\n  (next, prev) => {\r\n    if (!next || next === prev) return;\r\n    appStore.loadDashboard();\r\n    appStore.loadCardTypes(true);\r\n    appStore.loadAgents({ limit: 200, page: 1, keyword: '' });\r\n    appStore.loadChatSessions().catch((error) => {\r\n      uni.__f__('warn','at pages/index/index.vue:1087','切换软件时加载会话失败', error);\r\n    });\r\n    appStore.loadBlacklistLogs(100).catch((error) => {\r\n      uni.__f__('warn','at pages/index/index.vue:1090','切换软件时加载黑名单日志失败', error);\r\n    });\r\n    resetSalesForm();\r\n  }\r\n);\r\n\r\nwatch(\r\n  () => dashboard.value.salesFilters,\r\n  (filters) => {\r\n    if (!filters) {\r\n      resetSalesForm();\r\n      return;\r\n    }\r\n    applySalesFilters(filters);\r\n  },\r\n  { immediate: true }\r\n);\r\n\r\nwatch(\r\n  () => dashboard.value.salesResult,\r\n  () => {\r\n    salesPage.value = 1;\r\n  }\r\n);\r\n\r\nwatch(\r\n  theme,\r\n  (next) => {\r\n    const idx = themeOptions.findIndex((item) => item.value === next);\r\n    themeIndex.value = idx >= 0 ? idx : 0;\r\n  },\r\n  { immediate: true }\r\n);\r\n\r\nfunction formatDuration(seconds?: number | string | null) {\r\n  if (seconds == null) return '—';\r\n  const total = Number(seconds);\r\n  if (!Number.isFinite(total) || total <= 0) return '—';\r\n  const days = Math.floor(total / 86400);\r\n  const hours = Math.floor((total % 86400) / 3600);\r\n  const minutes = Math.floor((total % 3600) / 60);\r\n  if (days > 0) {\r\n    return `${days}天${hours}小时`;\r\n  }\r\n  if (hours > 0) {\r\n    return `${hours}小时${minutes}分钟`;\r\n  }\r\n  const secs = Math.floor(total % 60);\r\n  return `${minutes}分钟${secs}秒`;\r\n}\r\n\r\nfunction goAgents() {\r\n  uni.navigateTo({ url: '/pages/agents/index' });\r\n}\r\n\r\nfunction goTo(path: string) {\r\n  uni.navigateTo({ url: path });\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n.page {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 32rpx;\r\n  padding: 40rpx 28rpx 80rpx;\r\n}\r\n\r\n.hero {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 32rpx;\r\n  padding: 40rpx 36rpx;\r\n\r\n  @media (min-width: 900px) {\r\n    flex-direction: row;\r\n    align-items: center;\r\n    justify-content: space-between;\r\n  }\r\n}\r\n\r\n.hero-text {\r\n  max-width: 620rpx;\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 18rpx;\r\n}\r\n\r\n.hero-badge {\r\n  display: inline-flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  padding: 12rpx 24rpx;\r\n  border-radius: 999rpx;\r\n  background: rgba(139, 92, 246, 0.18);\r\n  color: rgba(139, 92, 246, 0.95);\r\n  font-size: 22rpx;\r\n  letter-spacing: 0.08em;\r\n}\r\n\r\n.hero-title {\r\n  font-size: 44rpx;\r\n  font-weight: 600;\r\n  color: var(--text-primary);\r\n}\r\n\r\n.hero-subtitle {\r\n  font-size: 26rpx;\r\n  color: var(--text-muted);\r\n}\r\n\r\n.quick-nav {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 24rpx;\r\n  padding: 28rpx 32rpx;\r\n}\r\n\r\n.quick-nav-title {\r\n  font-size: 28rpx;\r\n  font-weight: 600;\r\n  color: var(--text-primary);\r\n}\r\n\r\n.quick-nav-grid {\r\n  display: grid;\r\n  grid-template-columns: repeat(auto-fit, minmax(220rpx, 1fr));\r\n  gap: 18rpx;\r\n}\r\n\r\n.quick-nav-item {\r\n  padding: 48rpx 28rpx 24rpx;\r\n  border-radius: 24rpx;\r\n  background: var(--surface-light);\r\n  border: 1rpx solid var(--outline-color);\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 10rpx;\r\n  position: relative;\r\n  overflow: visible;\r\n}\r\n\r\n.quick-nav-item-head {\r\n  font-size: 28rpx;\r\n  font-weight: 600;\r\n  color: var(--text-primary);\r\n}\r\n\r\n.quick-nav-item-desc {\r\n  font-size: 24rpx;\r\n  color: var(--text-muted);\r\n  line-height: 1.4;\r\n}\r\n\r\n.quick-nav-badge {\r\n  position: absolute;\r\n  top: 0;\r\n  left: 50%;\r\n  transform: translate(-50%, -60%);\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  gap: 8rpx;\r\n  pointer-events: none;\r\n}\r\n\r\n.badge-main {\r\n  display: inline-flex;\r\n  align-items: center;\r\n  gap: 8rpx;\r\n  padding: 10rpx 24rpx;\r\n  border-radius: 999rpx;\r\n  box-shadow: 0 8rpx 24rpx rgba(15, 23, 42, 0.25);\r\n}\r\n\r\n.badge-text {\r\n  font-size: 24rpx;\r\n  font-weight: 600;\r\n}\r\n\r\n.badge-count {\r\n  font-size: 22rpx;\r\n  font-weight: 700;\r\n}\r\n\r\n.badge-subtext {\r\n  font-size: 22rpx;\r\n  font-weight: 600;\r\n  text-align: center;\r\n}\r\n\r\n.badge-info .badge-main {\r\n  background: linear-gradient(135deg, rgba(59, 130, 246, 0.95), rgba(129, 140, 248, 0.95));\r\n  color: #fff;\r\n}\r\n\r\n.badge-alert .badge-main {\r\n  background: linear-gradient(135deg, rgba(248, 113, 113, 0.95), rgba(239, 68, 68, 0.95));\r\n  color: #fff;\r\n}\r\n\r\n.badge-alert .badge-subtext {\r\n  color: rgba(248, 113, 113, 0.95);\r\n}\r\n\r\n.hero-meta {\r\n  display: grid;\r\n  grid-template-columns: repeat(1, minmax(0, 1fr));\r\n  gap: 18rpx;\r\n\r\n  @media (min-width: 768px) {\r\n    grid-template-columns: repeat(4, minmax(0, 1fr));\r\n  }\r\n}\r\n\r\n.account-info {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 16rpx;\r\n}\r\n\r\n.account-avatar {\r\n  width: 48rpx;\r\n  height: 48rpx;\r\n  border-radius: 50%;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  font-size: 24rpx;\r\n  font-weight: 600;\r\n  color: #0f172a;\r\n  background: linear-gradient(135deg, rgba(96, 165, 250, 0.9), rgba(129, 140, 248, 0.9));\r\n}\r\n\r\n.role-row {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 16rpx;\r\n  flex-wrap: wrap;\r\n}\r\n\r\n.meta-item {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 8rpx;\r\n}\r\n\r\n.wechat-header {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n}\r\n\r\n.wechat-status-group {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 12rpx;\r\n}\r\n\r\n.wechat-status {\r\n  font-size: 26rpx;\r\n  color: var(--text-muted);\r\n}\r\n\r\n.wechat-chip {\r\n  padding: 6rpx 18rpx;\r\n  border-radius: 999rpx;\r\n  background: rgba(14, 165, 233, 0.15);\r\n  color: #0ea5e9;\r\n  font-size: 24rpx;\r\n  font-weight: 500;\r\n}\r\n\r\n.wechat-actions {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  gap: 12rpx;\r\n  align-items: center;\r\n  margin-top: 12rpx;\r\n}\r\n\r\n.wechat-subscription {\r\n  margin-top: 16rpx;\r\n  padding: 18rpx;\r\n  border-radius: 18rpx;\r\n  background: rgba(15, 23, 42, 0.3);\r\n  border: 1rpx solid rgba(148, 163, 184, 0.25);\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 16rpx;\r\n}\r\n\r\n.subscription-row {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  gap: 16rpx;\r\n  align-items: center;\r\n}\r\n\r\n.subscription-info {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 6rpx;\r\n  flex: 1;\r\n}\r\n\r\n.subscription-title {\r\n  font-size: 26rpx;\r\n  font-weight: 600;\r\n  color: var(--text-primary);\r\n}\r\n\r\n.subscription-desc {\r\n  font-size: 22rpx;\r\n  color: var(--text-muted);\r\n}\r\n\r\n.subscription-switch {\r\n  transform: scale(0.9);\r\n}\r\n\r\n.subscription-hint {\r\n  font-size: 22rpx;\r\n  color: var(--text-muted);\r\n}\r\n\r\n.wechat-subscription.empty {\r\n  margin-top: 16rpx;\r\n  font-size: 24rpx;\r\n  color: var(--text-muted);\r\n  line-height: 1.5;\r\n}\r\n\r\n.picker-display {\r\n  padding: 16rpx 24rpx;\r\n  border-radius: 18rpx;\r\n  background: var(--surface-light);\r\n  border: 1rpx solid var(--outline-color);\r\n  color: var(--text-primary);\r\n  font-size: 24rpx;\r\n}\r\n\r\n.picker-disabled {\r\n  opacity: 0.6;\r\n}\r\n\r\n.meta-label {\r\n  font-size: 24rpx;\r\n  color: var(--text-muted);\r\n}\r\n\r\n.meta-value {\r\n  font-size: 30rpx;\r\n  font-weight: 600;\r\n  color: var(--text-primary);\r\n}\r\n\r\n.meta-button {\r\n  margin-top: auto;\r\n  padding: 16rpx 30rpx;\r\n  border-radius: 999rpx;\r\n  border: none;\r\n  background: var(--accent-gradient);\r\n  color: #05070f;\r\n  font-size: 26rpx;\r\n  font-weight: 600;\r\n}\r\n\r\n.meta-button.ghost {\r\n  background: transparent;\r\n  border: 1rpx solid var(--outline-color);\r\n  color: var(--text-muted);\r\n}\r\n\r\n.meta-button:disabled {\r\n  opacity: 0.6;\r\n}\r\n\r\n.role-row .meta-button {\r\n  margin-top: 0;\r\n}\r\n\r\n.system {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 20rpx;\r\n  padding: 32rpx;\r\n}\r\n\r\n.system-header {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 8rpx;\r\n}\r\n\r\n.system-title {\r\n  font-size: 30rpx;\r\n  font-weight: 600;\r\n}\r\n\r\n.system-subtitle {\r\n  font-size: 24rpx;\r\n  color: var(--text-muted);\r\n}\r\n\r\n.system-grid {\r\n  display: grid;\r\n  grid-template-columns: repeat(2, minmax(0, 1fr));\r\n  gap: 16rpx;\r\n}\r\n\r\n.system-item {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 6rpx;\r\n  padding: 16rpx;\r\n  border-radius: 16rpx;\r\n  background: var(--surface-light);\r\n}\r\n\r\n.system-label {\r\n  font-size: 22rpx;\r\n  color: var(--text-muted);\r\n}\r\n\r\n.system-value {\r\n  font-size: 28rpx;\r\n  font-weight: 600;\r\n}\r\n\r\n.system-warning {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 6rpx;\r\n  padding: 12rpx 18rpx;\r\n  border-radius: 12rpx;\r\n  background: rgba(248, 113, 113, 0.12);\r\n  color: var(--danger-color);\r\n  font-size: 24rpx;\r\n}\r\n\r\n.stat-grid {\r\n  display: grid;\r\n  grid-template-columns: repeat(auto-fit, minmax(260rpx, 1fr));\r\n  gap: 20rpx;\r\n}\r\n\r\n.chart-extra {\r\n  font-size: 22rpx;\r\n  color: var(--text-muted);\r\n}\r\n\r\n.sales-panel {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 24rpx;\r\n}\r\n\r\n.sales-form {\r\n  display: grid;\r\n  grid-template-columns: repeat(auto-fit, minmax(240rpx, 1fr));\r\n  gap: 20rpx;\r\n}\r\n\r\n.form-field {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 12rpx;\r\n}\r\n\r\n.form-label {\r\n  font-size: 24rpx;\r\n  color: var(--text-muted);\r\n}\r\n\r\n.form-input,\r\n.sales-form .picker-display {\r\n  padding: 18rpx 20rpx;\r\n  border-radius: 20rpx;\r\n  background: var(--surface-light);\r\n  border: 1rpx solid var(--outline-color);\r\n  color: var(--text-primary);\r\n  font-size: 26rpx;\r\n}\r\n\r\n.sales-form .picker-display {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n}\r\n\r\n.switch-field {\r\n  flex-direction: row;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n}\r\n\r\n.sales-actions {\r\n  display: flex;\r\n  gap: 16rpx;\r\n  flex-wrap: wrap;\r\n}\r\n\r\n.btn {\r\n  padding: 18rpx 32rpx;\r\n  border-radius: 999rpx;\r\n  border: none;\r\n  font-size: 26rpx;\r\n  font-weight: 600;\r\n  display: inline-flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n}\r\n\r\n.btn.primary {\r\n  background: var(--accent-gradient);\r\n  color: #05070f;\r\n}\r\n\r\n.btn.ghost {\r\n  background: transparent;\r\n  border: 1rpx solid var(--outline-color);\r\n  color: var(--text-primary);\r\n}\r\n\r\n.sales-result {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 18rpx;\r\n}\r\n\r\n.sales-summary {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 8rpx;\r\n}\r\n\r\n.sales-count {\r\n  font-size: 28rpx;\r\n  font-weight: 600;\r\n  color: var(--text-primary);\r\n}\r\n\r\n.sales-total {\r\n  font-size: 26rpx;\r\n  color: var(--text-primary);\r\n}\r\n\r\n.sales-settlement {\r\n  margin-top: 12rpx;\r\n  border: 1rpx solid rgba(148, 163, 184, 0.2);\r\n  border-radius: 18rpx;\r\n  overflow: hidden;\r\n}\r\n\r\n.settlement-header,\r\n.settlement-row {\r\n  display: grid;\r\n  grid-template-columns: 2fr 1fr 1fr 1fr;\r\n  align-items: center;\r\n  padding: 16rpx 20rpx;\r\n  gap: 12rpx;\r\n}\r\n\r\n.settlement-header {\r\n  background: rgba(59, 130, 246, 0.15);\r\n  color: rgba(226, 232, 240, 0.9);\r\n  font-size: 24rpx;\r\n  font-weight: 500;\r\n}\r\n\r\n.settlement-row {\r\n  background: rgba(15, 23, 42, 0.45);\r\n  font-size: 24rpx;\r\n  color: rgba(226, 232, 240, 0.85);\r\n}\r\n\r\n.settlement-row + .settlement-row {\r\n  border-top: 1rpx solid rgba(148, 163, 184, 0.12);\r\n}\r\n\r\n.settlement-col.type {\r\n  font-weight: 600;\r\n}\r\n\r\n.settlement-col.count,\r\n.settlement-col.price {\r\n  text-align: center;\r\n}\r\n\r\n.settlement-col.total {\r\n  text-align: right;\r\n}\r\n\r\n.highlight {\r\n  color: var(--color-secondary, #38bdf8);\r\n}\r\n\r\n.sales-meta {\r\n  font-size: 24rpx;\r\n  color: var(--text-muted);\r\n}\r\n\r\n.sales-list {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 16rpx;\r\n}\r\n\r\n.sales-entry {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 12rpx;\r\n  padding: 18rpx 22rpx;\r\n}\r\n\r\n.sales-field {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  gap: 16rpx;\r\n}\r\n\r\n.sales-label {\r\n  font-size: 24rpx;\r\n  color: var(--text-muted);\r\n}\r\n\r\n.sales-value {\r\n  font-size: 24rpx;\r\n  color: var(--text-primary);\r\n  text-align: right;\r\n  word-break: break-all;\r\n}\r\n\r\n.sales-pagination {\r\n  margin-top: 12rpx;\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 12rpx;\r\n  align-items: center;\r\n}\r\n\r\n.sales-page-info {\r\n  font-size: 24rpx;\r\n  color: var(--text-muted);\r\n}\r\n\r\n.sales-page-actions {\r\n  display: flex;\r\n  gap: 16rpx;\r\n}\r\n\r\n.page-btn {\r\n  padding: 14rpx 26rpx;\r\n  border-radius: 999rpx;\r\n  border: 1rpx solid var(--outline-color);\r\n  background: var(--surface-light);\r\n  color: var(--text-primary);\r\n  font-size: 24rpx;\r\n}\r\n\r\n.page-btn:disabled {\r\n  opacity: 0.5;\r\n}\r\n\r\n.layout-grid {\r\n  display: grid;\r\n  grid-template-columns: repeat(1, minmax(0, 1fr));\r\n  gap: 24rpx;\r\n\r\n  @media (min-width: 920px) {\r\n    grid-template-columns: repeat(2, minmax(0, 1fr));\r\n  }\r\n}\r\n\r\n.panel {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 20rpx;\r\n  padding: 32rpx;\r\n}\r\n\r\n.panel-header {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 6rpx;\r\n}\r\n\r\n.panel-title {\r\n  font-size: 30rpx;\r\n  font-weight: 600;\r\n}\r\n\r\n.panel-subtitle {\r\n  font-size: 24rpx;\r\n  color: var(--text-muted);\r\n}\r\n\r\n.panel-empty {\r\n  padding: 48rpx 12rpx;\r\n  text-align: center;\r\n  color: var(--text-muted);\r\n}\r\n\r\n.announcement-list {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 16rpx;\r\n}\r\n\r\n.announcement-item {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 8rpx;\r\n  padding: 18rpx 20rpx;\r\n  border-radius: 18rpx;\r\n  background: var(--surface-light);\r\n  border: 1rpx solid var(--outline-color);\r\n}\r\n\r\n.announcement-title {\r\n  font-size: 28rpx;\r\n  font-weight: 600;\r\n}\r\n\r\n.announcement-content {\r\n  font-size: 24rpx;\r\n  color: var(--text-secondary);\r\n  line-height: 1.6;\r\n}\r\n\r\n.announcement-meta {\r\n  font-size: 22rpx;\r\n  color: var(--text-muted);\r\n}\r\n\r\n.heatmap-grid {\r\n  display: grid;\r\n  grid-template-columns: repeat(1, minmax(0, 1fr));\r\n  gap: 16rpx;\r\n\r\n  @media (min-width: 720px) {\r\n    grid-template-columns: repeat(2, minmax(0, 1fr));\r\n  }\r\n}\r\n\r\n.heatmap-item {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 12rpx;\r\n  padding: 20rpx 24rpx;\r\n}\r\n\r\n.heatmap-name {\r\n  font-size: 28rpx;\r\n  font-weight: 600;\r\n}\r\n\r\n.heatmap-stats {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  font-size: 24rpx;\r\n  color: var(--text-muted);\r\n}\r\n\r\n.heatmap-label {\r\n  margin-right: 8rpx;\r\n}\r\n\r\n.heatmap-value {\r\n  font-size: 28rpx;\r\n  font-weight: 600;\r\n  color: var(--text-primary);\r\n}\r\n\r\n  \r\n</style>","import MiniProgramPage from 'C:/Users/Administrator/source/repos/wwwskbjxyz/SPTEST-V1/SProtectAgentWeb.Api/wwwroot/uniapp/pages/index/index.vue'\nwx.createPage(MiniProgramPage)"],"names":["useAppStore","storeToRefs","usePlatformStore","ref","computed","uni","watch","profile","reactive","formatDateTime","onMounted"],"mappings":"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"}
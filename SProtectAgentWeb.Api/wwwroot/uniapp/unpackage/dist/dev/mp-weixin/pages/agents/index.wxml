<view class="page data-v-91d40960"><view class="header glass-card data-v-91d40960"><view class="header-main data-v-91d40960"><text class="title data-v-91d40960">代理管理</text><text class="subtitle data-v-91d40960">掌握渠道余额、库存及启用状态</text></view><view class="header-actions data-v-91d40960"><software-picker class="data-v-91d40960" u-i="91d40960-0" bind:__l="__l"/><button class="btn ghost data-v-91d40960" disabled="{{a}}" bindtap="{{b}}">刷新</button><button class="btn primary data-v-91d40960" disabled="{{d}}" bindtap="{{e}}">{{c}}</button></view></view><view class="filters glass-card data-v-91d40960"><view class="filters-grid data-v-91d40960"><view class="field keyword-field data-v-91d40960"><text class="label data-v-91d40960">搜索关键字</text><input class="input data-v-91d40960" placeholder="用户名 / 备注关键字" confirm-type="search" bindconfirm="{{f}}" value="{{g}}" bindinput="{{h}}"/></view><view class="field data-v-91d40960"><text class="label data-v-91d40960">状态筛选</text><picker class="data-v-91d40960" mode="selector" range="{{j}}" value="{{k}}" bindchange="{{l}}"><view class="picker-display data-v-91d40960">{{i}}</view></picker></view><view class="field data-v-91d40960"><text class="label data-v-91d40960">每页条数</text><picker class="data-v-91d40960" mode="selector" range="{{n}}" value="{{o}}" bindchange="{{p}}"><view class="picker-display data-v-91d40960">{{m}}</view></picker></view></view><view class="filter-actions data-v-91d40960"><button class="btn primary data-v-91d40960" disabled="{{r}}" bindtap="{{s}}">{{q}}</button><button class="btn ghost data-v-91d40960" disabled="{{t}}" bindtap="{{v}}">重置</button></view></view><data-table wx:if="{{B}}" class="data-v-91d40960" u-s="{{['username','status','cardTypesDisplay','remark','operations']}}" u-i="91d40960-1" bind:__l="__l" u-p="{{B}}"><view wx:for="{{w}}" wx:for-item="v0" wx:key="e" slot="{{v0.f}}"><view class="agent-header data-v-91d40960"><text class="agent-name copyable data-v-91d40960" bindlongpress="{{v0.b}}">{{v0.a}}</text><status-tag wx:if="{{v0.d}}" class="data-v-91d40960" u-i="{{v0.c}}" bind:__l="__l" u-p="{{v0.d}}"/></view></view><view wx:for="{{x}}" wx:for-item="v0" wx:key="c" slot="{{v0.d}}"><status-tag wx:if="{{v0.b}}" class="data-v-91d40960" u-i="{{v0.a}}" bind:__l="__l" u-p="{{v0.b}}"/></view><view wx:for="{{y}}" wx:for-item="v0" wx:key="c" slot="{{v0.d}}"><view wx:if="{{v0.a}}" class="tag-list data-v-91d40960"><view wx:for="{{v0.b}}" wx:for-item="item" wx:key="b" class="tag data-v-91d40960">{{item.a}}</view></view><text wx:else class="placeholder data-v-91d40960">默认全部</text></view><view wx:for="{{z}}" wx:for-item="v0" wx:key="c" slot="{{v0.d}}"><text wx:if="{{v0.a}}" class="remark data-v-91d40960">{{v0.b}}</text><text wx:else class="placeholder data-v-91d40960">—</text></view><view wx:for="{{A}}" wx:for-item="v0" wx:key="w" slot="{{v0.x}}"><view class="action-group data-v-91d40960"><button class="action-btn data-v-91d40960" disabled="{{v0.b}}" bindtap="{{v0.c}}">{{v0.a}}</button><button class="action-btn warn data-v-91d40960" disabled="{{v0.e}}" bindtap="{{v0.f}}">{{v0.d}}</button><button class="action-btn data-v-91d40960" disabled="{{v0.h}}" bindtap="{{v0.i}}">{{v0.g}}</button><button class="action-btn data-v-91d40960" disabled="{{v0.k}}" bindtap="{{v0.l}}">{{v0.j}}</button><button class="action-btn data-v-91d40960" disabled="{{v0.n}}" bindtap="{{v0.o}}">{{v0.m}}</button><button class="action-btn data-v-91d40960" disabled="{{v0.q}}" bindtap="{{v0.r}}">{{v0.p}}</button><button class="action-btn danger data-v-91d40960" disabled="{{v0.t}}" bindtap="{{v0.v}}">{{v0.s}}</button></view></view></data-table><view wx:if="{{C}}" class="pagination glass-card data-v-91d40960"><view class="page-info data-v-91d40960">第 {{D}} / {{E}} 页 · 共 {{F}} 条</view><view class="page-actions data-v-91d40960"><button class="page-btn data-v-91d40960" disabled="{{G}}" bindtap="{{H}}">上一页</button><button class="page-btn data-v-91d40960" disabled="{{I}}" bindtap="{{J}}">下一页</button></view></view><view wx:if="{{K}}" class="agent-create-modal data-v-91d40960" bindtap="{{aj}}"><view class="agent-create-panel glass-card data-v-91d40960" catchtap="{{ai}}"><view class="agent-create-header data-v-91d40960"><text class="agent-create-title data-v-91d40960">创建代理</text><button class="agent-create-close data-v-91d40960" disabled="{{L}}" bindtap="{{M}}">关闭</button></view><view class="agent-create-body data-v-91d40960"><view class="agent-create-field data-v-91d40960"><text class="agent-create-label data-v-91d40960">代理账号</text><input class="agent-create-input data-v-91d40960" placeholder="请输入代理账号" value="{{N}}" bindinput="{{O}}"/></view><view class="agent-create-field data-v-91d40960"><text class="agent-create-label data-v-91d40960">初始密码</text><input class="agent-create-input data-v-91d40960" password placeholder="请输入初始密码" value="{{P}}" bindinput="{{Q}}"/></view><view class="agent-create-grid data-v-91d40960"><view class="agent-create-field data-v-91d40960"><text class="agent-create-label data-v-91d40960">初始余额(元)</text><input class="agent-create-input data-v-91d40960" type="digit" placeholder="如 0" value="{{R}}" bindinput="{{S}}"/></view><view class="agent-create-field data-v-91d40960"><text class="agent-create-label data-v-91d40960">时间库存(小时)</text><input class="agent-create-input data-v-91d40960" type="digit" placeholder="如 0" value="{{T}}" bindinput="{{U}}"/></view><view class="agent-create-field data-v-91d40960"><text class="agent-create-label data-v-91d40960">折扣(默认100)</text><input class="agent-create-input data-v-91d40960" type="number" placeholder="100 表示不打折" value="{{V}}" bindinput="{{W}}"/></view></view><view class="agent-create-field data-v-91d40960"><text class="agent-create-label data-v-91d40960">备注信息</text><block wx:if="{{r0}}"><textarea class="agent-create-textarea data-v-91d40960" placeholder="可填写备注，留空则不设置" auto-height value="{{X}}" bindinput="{{Y}}"></textarea></block></view><view class="agent-create-field data-v-91d40960"><text class="agent-create-label data-v-91d40960">授权卡种</text><view class="agent-create-checkboxes data-v-91d40960"><text wx:if="{{Z}}" class="agent-create-hint data-v-91d40960">暂无卡种，可稍后在详情中配置</text><checkbox-group wx:else class="data-v-91d40960" value="{{ab}}" bindchange="{{ac}}"><label wx:for="{{aa}}" wx:for-item="item" wx:key="c" class="agent-create-checkbox data-v-91d40960"><checkbox class="data-v-91d40960" value="{{item.a}}"/><text class="agent-create-checkbox-label data-v-91d40960">{{item.b}}</text></label></checkbox-group></view></view></view><view class="agent-create-actions data-v-91d40960"><button class="btn ghost data-v-91d40960" disabled="{{ad}}" bindtap="{{ae}}">取消</button><button class="btn primary data-v-91d40960" disabled="{{ag}}" bindtap="{{ah}}">{{af}}</button></view></view></view></view>
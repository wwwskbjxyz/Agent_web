<view class="page data-v-4177db9f"><view class="header glass-card data-v-4177db9f"><view class="header-main data-v-4177db9f"><text class="title data-v-4177db9f">卡密管理</text><text class="subtitle data-v-4177db9f">多条件搜索、批量生成与状态管理</text></view><view class="header-actions data-v-4177db9f"><software-picker class="data-v-4177db9f" u-i="4177db9f-0" bind:__l="__l"/><button class="header-btn data-v-4177db9f" bindtap="{{a}}">批量生成</button><button class="header-btn ghost data-v-4177db9f" bindtap="{{b}}">导出当前列表</button></view></view><view class="filters glass-card data-v-4177db9f"><view class="filters-grid data-v-4177db9f"><view class="field field--full data-v-4177db9f"><text class="label data-v-4177db9f">关键字 / 备注 / 卡密</text><block wx:if="{{r0}}"><textarea class="textarea data-v-4177db9f" placeholder="支持卡密、备注、机器码、多个关键词可换行或空格分隔" auto-height value="{{c}}" bindinput="{{d}}"/></block></view><view class="field data-v-4177db9f"><text class="label data-v-4177db9f">卡密类型</text><picker class="data-v-4177db9f" mode="selector" range="{{f}}" value="{{g}}" bindchange="{{h}}"><view class="picker-display data-v-4177db9f">{{e}}</view></picker></view><view class="field data-v-4177db9f"><text class="label data-v-4177db9f">状态</text><picker class="data-v-4177db9f" mode="selector" range="{{j}}" value="{{k}}" bindchange="{{l}}"><view class="picker-display data-v-4177db9f">{{i}}</view></picker></view><view class="field data-v-4177db9f"><text class="label data-v-4177db9f">代理账号</text><picker class="data-v-4177db9f" mode="selector" range="{{n}}" value="{{o}}" bindchange="{{p}}"><view class="picker-display data-v-4177db9f">{{m}}</view></picker></view><view class="field data-v-4177db9f"><text class="label data-v-4177db9f">查询模式</text><picker class="data-v-4177db9f" mode="selector" range="{{r}}" value="{{s}}" bindchange="{{t}}"><view class="picker-display data-v-4177db9f">{{q}}</view></picker></view><view class="field switch-field data-v-4177db9f"><text class="label data-v-4177db9f">包含下级</text><switch class="data-v-4177db9f" checked="{{v}}" disabled="{{w}}" bindchange="{{x}}"/><text wx:if="{{y}}" class="hint data-v-4177db9f">指定代理时默认不包含下级</text></view><view class="field data-v-4177db9f"><text class="label data-v-4177db9f">机器码</text><input class="input data-v-4177db9f" placeholder="输入完整机器码" value="{{z}}" bindinput="{{A}}"/></view><view class="field data-v-4177db9f"><text class="label data-v-4177db9f">IP 地址</text><input class="input data-v-4177db9f" placeholder="如 113.45.90.1" value="{{B}}" bindinput="{{C}}"/></view><view class="field data-v-4177db9f"><text class="label data-v-4177db9f">开始时间</text><date-time-picker wx:if="{{E}}" class="data-v-4177db9f" u-i="4177db9f-1" bind:__l="__l" bindupdateModelValue="{{D}}" u-p="{{E}}"/></view><view class="field data-v-4177db9f"><text class="label data-v-4177db9f">结束时间</text><date-time-picker wx:if="{{G}}" class="data-v-4177db9f" u-i="4177db9f-2" bind:__l="__l" bindupdateModelValue="{{F}}" u-p="{{G}}"/></view><view class="field data-v-4177db9f"><text class="label data-v-4177db9f">每页条数</text><picker class="data-v-4177db9f" mode="selector" range="{{I}}" value="{{J}}" bindchange="{{K}}"><view class="picker-display data-v-4177db9f">{{H}}</view></picker></view></view><view class="filter-actions data-v-4177db9f"><button class="btn primary data-v-4177db9f" disabled="{{M}}" bindtap="{{N}}">{{L}}</button><button class="btn ghost data-v-4177db9f" disabled="{{O}}" bindtap="{{P}}">重置</button></view></view><data-table wx:if="{{Z}}" class="data-v-4177db9f" u-s="{{['actions','key','status','ip','machineCodes','remark','fullKey','operations']}}" u-i="4177db9f-3" bind:__l="__l" u-p="{{Z}}"><button class="mini-btn ghost data-v-4177db9f" disabled="{{Q}}" bindtap="{{R}}" slot="actions">刷新</button><view wx:for="{{S}}" wx:for-item="v0" wx:key="f" slot="{{v0.g}}"><view class="key-header data-v-4177db9f"><text class="copy-text copyable data-v-4177db9f" bindlongpress="{{v0.b}}" catchtap="{{v0.c}}">{{v0.a}}</text><status-tag wx:if="{{v0.e}}" class="data-v-4177db9f" u-i="{{v0.d}}" bind:__l="__l" u-p="{{v0.e}}"/></view></view><view wx:for="{{T}}" wx:for-item="v0" wx:key="c" slot="{{v0.d}}"><status-tag wx:if="{{v0.b}}" class="data-v-4177db9f" u-i="{{v0.a}}" bind:__l="__l" u-p="{{v0.b}}"/></view><view wx:for="{{U}}" wx:for-item="v0" wx:key="d" slot="{{v0.e}}"><text class="copy-text copyable data-v-4177db9f" bindlongpress="{{v0.b}}" catchtap="{{v0.c}}">{{v0.a}}</text></view><view wx:for="{{V}}" wx:for-item="v0" wx:key="c" slot="{{v0.d}}"><view wx:if="{{v0.a}}" class="machine-list data-v-4177db9f"><view wx:for="{{v0.b}}" wx:for-item="code" wx:key="b" class="machine-item copyable data-v-4177db9f" bindlongpress="{{code.c}}" catchtap="{{code.d}}">{{code.a}}</view></view><text wx:else class="placeholder data-v-4177db9f">—</text></view><view wx:for="{{W}}" wx:for-item="v0" wx:key="c" slot="{{v0.d}}"><text wx:if="{{v0.a}}" class="remark data-v-4177db9f">{{v0.b}}</text><text wx:else class="placeholder data-v-4177db9f">—</text></view><view wx:for="{{X}}" wx:for-item="v0" wx:key="d" slot="{{v0.e}}"><text class="full-key copyable data-v-4177db9f" bindlongpress="{{v0.b}}" catchtap="{{v0.c}}">{{v0.a}}</text></view><view wx:for="{{Y}}" wx:for-item="v0" wx:key="n" slot="{{v0.o}}"><view class="action-group data-v-4177db9f"><button class="{{['action-btn', 'data-v-4177db9f', v0.b && 'primary']}}" disabled="{{v0.c}}" bindtap="{{v0.d}}">{{v0.a}}</button><button class="action-btn warn data-v-4177db9f" disabled="{{v0.f}}" bindtap="{{v0.g}}">{{v0.e}}</button><button class="action-btn data-v-4177db9f" disabled="{{v0.i}}" bindtap="{{v0.j}}">{{v0.h}}</button><button class="action-btn ghost data-v-4177db9f" disabled="{{v0.l}}" bindtap="{{v0.m}}">{{v0.k}}</button></view></view></data-table><view wx:if="{{aa}}" class="pagination glass-card data-v-4177db9f"><view class="page-info data-v-4177db9f">第 {{ab}} / {{ac}} 页 · 共 {{ad}} 条</view><view class="page-actions data-v-4177db9f"><button class="page-btn data-v-4177db9f" disabled="{{ae}}" bindtap="{{af}}">上一页</button><button class="page-btn data-v-4177db9f" disabled="{{ag}}" bindtap="{{ah}}">下一页</button></view></view><view wx:if="{{ai}}" class="create-card-modal data-v-4177db9f" bindtap="{{aC}}"><view class="create-card-panel glass-card data-v-4177db9f" catchtap="{{aB}}"><view class="create-card-header data-v-4177db9f"><text class="create-card-title data-v-4177db9f">批量生成卡密</text><button class="create-card-close data-v-4177db9f" disabled="{{aj}}" bindtap="{{ak}}">关闭</button></view><view class="create-card-body data-v-4177db9f"><view class="form-field data-v-4177db9f"><text class="form-label data-v-4177db9f">卡密类型</text><picker class="data-v-4177db9f" mode="selector" range="{{am}}" value="{{an}}" bindchange="{{ao}}"><view class="picker-display data-v-4177db9f">{{al}}</view></picker></view><view class="form-field data-v-4177db9f"><text class="form-label data-v-4177db9f">生成数量</text><input class="input data-v-4177db9f" type="number" placeholder="1-500" value="{{ap}}" bindinput="{{aq}}"/></view><view class="form-field data-v-4177db9f"><text class="form-label data-v-4177db9f">备注（可选）</text><block wx:if="{{r0}}"><textarea class="textarea data-v-4177db9f" placeholder="可填写备注信息" auto-height value="{{ar}}" bindinput="{{as}}"></textarea></block></view><view class="form-field data-v-4177db9f"><text class="form-label data-v-4177db9f">自定义前缀（可选）</text><input class="input data-v-4177db9f" placeholder="最多 32 位字符" maxlength="32" value="{{at}}" bindinput="{{av}}"/></view></view><view class="create-card-actions data-v-4177db9f"><button class="btn ghost data-v-4177db9f" disabled="{{aw}}" bindtap="{{ax}}">取消</button><button class="btn primary data-v-4177db9f" disabled="{{az}}" bindtap="{{aA}}">{{ay}}</button></view></view></view><view wx:if="{{aD}}" class="generated-modal data-v-4177db9f" bindtap="{{aM}}"><view class="generated-panel glass-card data-v-4177db9f" catchtap="{{aL}}"><view class="generated-header data-v-4177db9f"><text class="generated-title data-v-4177db9f">生成卡密（{{aE}}）</text><button class="generated-close data-v-4177db9f" bindtap="{{aF}}">关闭</button></view><scroll-view scroll-y class="generated-list data-v-4177db9f" show-scrollbar="{{false}}"><view wx:for="{{aG}}" wx:for-item="card" wx:key="b" class="generated-item copyable data-v-4177db9f" bindlongpress="{{card.c}}" catchtap="{{card.d}}">{{card.a}}</view></scroll-view><view class="generated-actions data-v-4177db9f"><button class="generated-btn data-v-4177db9f" bindtap="{{aH}}" disabled="{{aI}}">复制全部</button><button class="generated-btn primary data-v-4177db9f" bindtap="{{aJ}}" disabled="{{aK}}">导出 TXT</button></view></view></view></view>
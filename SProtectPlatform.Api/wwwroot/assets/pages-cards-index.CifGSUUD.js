import{d as e,D as a,x as l,g as t,r as s,h as n,y as d,z as i,o as c,c as u,w as o,a as r,b as f,t as m,k as y,E as p,l as v,B as b,F as k,j as g,A as h,s as _,C,R as w,T,i as x,e as V,f as D,U as I,v as P,P as $,I as A,S,V as j,p as K,_ as L}from"./index-HILlddLG.js";import{D as N}from"./DataTable.DKSCNdyd.js";import{S as M}from"./StatusTag.CtIox66Q.js";import{S as U}from"./SoftwarePicker.BCpN4_YZ.js";import{D as q}from"./DateTimePicker.CQItuLH4.js";import{d as O}from"./download.oAxhmttc.js";const F=L(e({__name:"index",setup(e){const L=a(),{cardKeys:F,cardTypes:R,cardTotal:z,selectedSoftware:B,agents:E}=l(L),H=L.cardFilters,X=t({keyword:"",cardType:"",status:"",agent:"",includeDescendants:!0,machineCode:"",ip:"",startTime:"",endTime:""}),Y=[{label:"智能匹配",value:0},{label:"备注 / 机器码",value:1},{label:"IP 地址",value:2},{label:"按卡种",value:3}],G=[{label:"全部",value:""},{label:"启用",value:"enabled"},{label:"禁用",value:"disabled"},{label:"未知",value:"unknown"}],J=[20,50,100,200],Q=s(0),W=s(0),Z=s(0),ee=s(0),ae=s(1),le=s(!1),te=s(!1),se=s([]),ne=s(""),de=s(!1),ie=t({cardTypeIndex:0,quantity:"1",remarks:"",customPrefix:""}),ce=n((()=>L.loading.cards)),ue=n((()=>["全部",...R.value.map((e=>e.name))])),oe=n((()=>["全部",...E.value.map((e=>e.username))])),re=n((()=>G.map((e=>e.label)))),fe=n((()=>Y.map((e=>e.label)))),me=n((()=>J.map((e=>`${e} 条/页`)))),ye=n((()=>R.value.map((e=>function(e){const a=j(e.duration);return a?`${e.name}（${a}）`:e.name}(e))))),pe=n((()=>F.value.map((e=>({key:e.key,fullKey:e.key,cardType:e.cardType,status:e.status,statusText:e.statusText,owner:e.owner,createdAt:e.createdAt,activatedAt:e.activatedAt,expireAt:e.expireAt,remark:e.remark??"",ip:e.ip??"--",machineCodes:e.machineCodes||[]}))))),ve=n((()=>H.page??1)),be=n((()=>H.limit??J[ae.value]??50)),ke=n((()=>{const e=be.value||1;return Math.max(1,Math.ceil((z.value||0)/e))})),ge=n((()=>`共 ${z.value} 条记录`)),he={enabled:"启用",disabled:"禁用",unknown:"未知"},_e={enabled:"success",disabled:"warning",unknown:"info"},Ce=[{key:"key",label:"卡密编号",style:"min-width:260rpx"},{key:"status",label:"状态",style:"min-width:160rpx"},{key:"cardType",label:"卡密类型",style:"min-width:200rpx"},{key:"owner",label:"归属代理",style:"min-width:180rpx"},{key:"ip",label:"最近 IP",style:"min-width:180rpx"},{key:"machineCodes",label:"绑定机器码",style:"min-width:260rpx"},{key:"createdAt",label:"创建时间",style:"min-width:220rpx"},{key:"activatedAt",label:"最近激活",style:"min-width:220rpx"},{key:"expireAt",label:"到期时间",style:"min-width:220rpx"},{key:"remark",label:"备注信息",style:"min-width:220rpx"},{key:"fullKey",label:"完整卡密",style:"min-width:280rpx"},{key:"operations",label:"操作",style:"min-width:320rpx"}],we=t({key:"",action:""}),Te=n((()=>!!X.agent));function xe(e,a){return we.key===e&&we.action===a}function Ve(e,a){we.key=e,we.action=a}function De(){we.key="",we.action=""}function Ie(){le.value=!1}function Pe(){de.value||(te.value=!1)}function $e(e){ie.cardTypeIndex=Number(e.detail.value)||0}function Ae(e){const a=(e??"").toString().trim();a?C({data:a,success:()=>{_({title:"已复制",icon:"success",duration:800})},fail:()=>{_({title:"复制失败",icon:"none"})}}):_({title:"无可复制内容",icon:"none"})}function Se(){se.value.length?Ae(se.value.join("\n")):_({title:"无可复制内容",icon:"none"})}function je(){if(!se.value.length)return void _({title:"暂无卡密",icon:"none"});const e=`${ne.value||"cards"}-${Date.now()}.txt`;O(e,se.value.join("\n")),_({title:"已导出",icon:"success"})}function Ke(e){if(!e)return"";const a=e.trim();if(!a)return"";if(/^\d{4}-\d{2}-\d{2}\s\d{2}:\d{2}$/.test(a))return a;const l=new Date(a.replace("T"," ").replace(/\//g,"-"));return Number.isNaN(l.getTime())?"":function(e){const a=e=>e.toString().padStart(2,"0");return`${e.getFullYear()}-${a(e.getMonth()+1)}-${a(e.getDate())} ${a(e.getHours())}:${a(e.getMinutes())}`}(l)}function Le(){const e=H.keyword||(Array.isArray(H.keywords)?H.keywords.join(" "):"");X.keyword=e,X.cardType=H.cardType||"",X.status=H.status||"",X.agent=H.agent||"",X.includeDescendants=!H.agent&&(H.includeDescendants??!0),X.machineCode=H.machineCode||"",X.ip=H.ip||"",X.startTime=Ke(H.startTime),X.endTime=Ke(H.endTime);const a=X.cardType||"全部",l=ue.value.indexOf(a);Q.value=l>=0?l:0;const t=G.findIndex((e=>e.value===(X.status||"")));W.value=t>=0?t:0;const s=X.agent||"全部",n=oe.value.indexOf(s);Z.value=n>=0?n:0;const d=Y.findIndex((e=>e.value===("number"==typeof H.searchType?H.searchType:0)));ee.value=d>=0?d:0;const i=J.findIndex((e=>e===(H.limit??50)));ae.value=i>=0?i:1}function Ne(e){const a=Number(e.detail.value);Q.value=a,X.cardType=0===a?"":ue.value[a]||""}function Me(e){var a;const l=Number(e.detail.value);W.value=l,X.status=(null==(a=G[l])?void 0:a.value)??""}function Ue(e){const a=Number(e.detail.value);Z.value=a,X.agent="全部"===oe.value[a]?"":oe.value[a]||"",X.agent?X.includeDescendants=!1:X.includeDescendants=!0}function qe(e){const a=Number(e.detail.value);ee.value=a}function Oe(e){Te.value?X.includeDescendants=!1:X.includeDescendants=e.detail.value}async function Fe(e){const a=Number(e.detail.value);ae.value=a;const l=J[a]??50;try{await L.loadCardKeys({limit:l,page:1})}catch(t){console.error("onPageSizeChange error",t)}}async function Re(){var e;if(!B.value)return void _({title:"请先选择软件位",icon:"none"});const a=(null==(e=Y[ee.value])?void 0:e.value)??0,l=Ke(X.startTime),t=Ke(X.endTime),s={keyword:X.keyword.trim(),cardType:X.cardType,status:X.status||"",agent:X.agent,includeDescendants:!X.agent&&X.includeDescendants,machineCode:X.machineCode.trim(),ip:X.ip.trim(),startTime:l||void 0,endTime:t||void 0,searchType:a,page:1,limit:J[ae.value]??H.limit};try{await L.loadCardKeys(s),_({title:"查询完成",icon:"success"})}catch(n){console.error("submitSearch error",n),_({title:"查询失败",icon:"none"})}}async function ze(){X.keyword="",X.cardType="",X.status="",X.agent="",X.includeDescendants=!0,X.machineCode="",X.ip="",X.startTime="",X.endTime="",Q.value=0,W.value=0,Z.value=0,ee.value=0,ae.value=J.indexOf(50)>=0?J.indexOf(50):0,await Re()}async function Be(){try{await L.loadCardKeys({page:H.page,limit:H.limit}),_({title:"已刷新",icon:"none"})}catch(e){console.error("refreshList error",e)}}async function Ee(e){if(!(e<1||e>ke.value))try{await L.loadCardKeys({page:e})}catch(a){console.error("changePage error",a)}}function He(e){return new Promise((a=>{K({title:"确认操作",content:e,confirmText:"确定",cancelText:"取消",success:e=>a(!!e.confirm),fail:()=>a(!1)})}))}async function Xe(e,a){if(!(null==e?void 0:e.key))return;const l={enable:"启用",disable:"禁用",unban:"解除封禁"};if(await He(`确认${l[a]}卡密：${e.key}？`)){Ve(e.key,a);try{const t=await L.updateCardStatus({cardKey:e.key,action:a});_({title:t||`${l[a]}成功`,icon:"success"})}catch(t){console.error("handleStatusAction error",t),_({title:`${l[a]}失败`,icon:"none"})}finally{De()}}}async function Ye(){if(await L.ensureReady(),!B.value)return void _({title:"请先选择软件位",icon:"none"});const e=R.value.length?R.value:await L.loadCardTypes(!0);e&&e.length?(ie.cardTypeIndex=Math.min(ie.cardTypeIndex,Math.max(0,e.length-1)),ie.quantity="1",ie.remarks="",ie.customPrefix="",te.value=!0):_({title:"未获取到卡密类型",icon:"none"})}async function Ge(){if(de.value)return;const e=R.value[ie.cardTypeIndex];if(!e)return void _({title:"请选择卡密类型",icon:"none"});const a=Number(ie.quantity),l=Math.min(500,Math.max(1,Math.floor(a)));if(!Number.isFinite(a)||a<=0)_({title:"请输入 1-500 的数量",icon:"none"});else{de.value=!0,w({title:"生成中...",mask:!0});try{ie.quantity=l.toString();const a=await L.generateCards({cardType:e.name,quantity:l,remarks:ie.remarks.trim(),customPrefix:ie.customPrefix.trim()||void 0}),n=a.generatedCards&&a.generatedCards.length?a.generatedCards:a.sampleCards||[];n.length&&(t=n,s=e.name||"cards",se.value=t,ne.value=s,le.value=!0),_({title:"生成成功",icon:"success"}),te.value=!1,ie.remarks="",ie.customPrefix=""}catch(n){console.error("submitCreateCard error",n),_({title:"生成失败",icon:"none"})}finally{de.value=!1,T()}var t,s}}function Je(){if(!pe.value.length)return void _({title:"暂无卡密可导出",icon:"none"});const e=pe.value.map((e=>[e.key,e.cardType,e.statusText||he[e.status],e.owner,e.ip||"",e.machineCodes.join("|"),e.createdAt,e.activatedAt,e.expireAt,e.remark].map((e=>`"${(e??"").toString().replace(/"/g,'""')}"`)).join(","))),a=["\ufeff"+["卡密编号","卡密类型","状态","归属代理","最近IP","绑定机器码","创建时间","最近激活","到期时间","备注信息"].join(","),...e].join("\n"),l=`cards-${Date.now()}.csv`;O(l,a,"text/csv;charset=utf-8"),_({title:"导出成功",icon:"success"})}return d((()=>[H.keyword,H.cardType,H.status,H.agent,H.includeDescendants,H.machineCode,H.ip,H.startTime,H.endTime,H.searchType,H.limit]),(()=>{Le()}),{immediate:!0}),d(ue,(()=>Le())),d(oe,(()=>Le())),d((()=>R.value),(e=>{if(!e||!e.length)return te.value=!1,void(ie.cardTypeIndex=0);ie.cardTypeIndex>=e.length&&(ie.cardTypeIndex=0)}),{immediate:!0,deep:!1}),i((async()=>{await L.ensureReady();try{await Promise.all([L.loadCardKeys(),L.loadCardTypes(),L.loadAgents({limit:200})])}catch(e){console.error("cards/onMounted error",e)}finally{Le()}})),d((()=>B.value),(async(e,a)=>{if(e&&e!==a){X.keyword="",X.cardType="",X.status="",X.agent="",X.includeDescendants=!0,X.machineCode="",X.ip="",X.startTime="",X.endTime="",Q.value=0,W.value=0,Z.value=0,ee.value=0,ae.value=J.indexOf(50)>=0?J.indexOf(50):0;try{await Promise.all([L.loadCardKeys({page:1}),L.loadCardTypes(!0),L.loadAgents({limit:200,page:1,keyword:""})])}catch(l){console.error("selectedSoftware change error",l)}finally{Le()}}})),(e,a)=>{const l=x,t=V,s=D,n=I,d=P,i=$,C=A,w=S;return c(),u(t,{class:"page"},{default:o((()=>[r(t,{class:"header glass-card"},{default:o((()=>[r(t,{class:"header-main"},{default:o((()=>[r(l,{class:"title"},{default:o((()=>[f("卡密管理")])),_:1}),r(l,{class:"subtitle"},{default:o((()=>[f("多条件搜索、批量生成与状态管理")])),_:1})])),_:1}),r(t,{class:"header-actions"},{default:o((()=>[r(U),r(s,{class:"header-btn",onClick:Ye},{default:o((()=>[f("批量生成")])),_:1}),r(s,{class:"header-btn ghost",onClick:Je},{default:o((()=>[f("导出当前列表")])),_:1})])),_:1})])),_:1}),r(t,{class:"filters glass-card"},{default:o((()=>[r(t,{class:"filters-grid"},{default:o((()=>[r(t,{class:"field field--full"},{default:o((()=>[r(l,{class:"label"},{default:o((()=>[f("关键字 / 备注 / 卡密")])),_:1}),r(n,{class:"textarea",modelValue:X.keyword,"onUpdate:modelValue":a[0]||(a[0]=e=>X.keyword=e),placeholder:"支持卡密、备注、机器码、多个关键词可换行或空格分隔","auto-height":""},null,8,["modelValue"])])),_:1}),r(t,{class:"field"},{default:o((()=>[r(l,{class:"label"},{default:o((()=>[f("卡密类型")])),_:1}),r(d,{mode:"selector",range:ue.value,value:Q.value,onChange:Ne},{default:o((()=>[r(t,{class:"picker-display"},{default:o((()=>[f(m(ue.value[Q.value]||"全部"),1)])),_:1})])),_:1},8,["range","value"])])),_:1}),r(t,{class:"field"},{default:o((()=>[r(l,{class:"label"},{default:o((()=>[f("状态")])),_:1}),r(d,{mode:"selector",range:re.value,value:W.value,onChange:Me},{default:o((()=>[r(t,{class:"picker-display"},{default:o((()=>[f(m(re.value[W.value]||"全部"),1)])),_:1})])),_:1},8,["range","value"])])),_:1}),r(t,{class:"field"},{default:o((()=>[r(l,{class:"label"},{default:o((()=>[f("代理账号")])),_:1}),r(d,{mode:"selector",range:oe.value,value:Z.value,onChange:Ue},{default:o((()=>[r(t,{class:"picker-display"},{default:o((()=>[f(m(oe.value[Z.value]||"全部"),1)])),_:1})])),_:1},8,["range","value"])])),_:1}),r(t,{class:"field"},{default:o((()=>[r(l,{class:"label"},{default:o((()=>[f("查询模式")])),_:1}),r(d,{mode:"selector",range:fe.value,value:ee.value,onChange:qe},{default:o((()=>[r(t,{class:"picker-display"},{default:o((()=>[f(m(fe.value[ee.value]||"智能匹配"),1)])),_:1})])),_:1},8,["range","value"])])),_:1}),r(t,{class:"field switch-field"},{default:o((()=>[r(l,{class:"label"},{default:o((()=>[f("包含下级")])),_:1}),r(i,{checked:X.includeDescendants,disabled:Te.value,onChange:Oe},null,8,["checked","disabled"]),Te.value?(c(),u(l,{key:0,class:"hint"},{default:o((()=>[f("指定代理时默认不包含下级")])),_:1})):y("",!0)])),_:1}),r(t,{class:"field"},{default:o((()=>[r(l,{class:"label"},{default:o((()=>[f("机器码")])),_:1}),r(C,{class:"input",modelValue:X.machineCode,"onUpdate:modelValue":a[1]||(a[1]=e=>X.machineCode=e),placeholder:"输入完整机器码"},null,8,["modelValue"])])),_:1}),r(t,{class:"field"},{default:o((()=>[r(l,{class:"label"},{default:o((()=>[f("IP 地址")])),_:1}),r(C,{class:"input",modelValue:X.ip,"onUpdate:modelValue":a[2]||(a[2]=e=>X.ip=e),placeholder:"如 113.45.90.1"},null,8,["modelValue"])])),_:1}),r(t,{class:"field"},{default:o((()=>[r(l,{class:"label"},{default:o((()=>[f("开始时间")])),_:1}),r(q,{modelValue:X.startTime,"onUpdate:modelValue":a[3]||(a[3]=e=>X.startTime=e),placeholder:"选择开始时间"},null,8,["modelValue"])])),_:1}),r(t,{class:"field"},{default:o((()=>[r(l,{class:"label"},{default:o((()=>[f("结束时间")])),_:1}),r(q,{modelValue:X.endTime,"onUpdate:modelValue":a[4]||(a[4]=e=>X.endTime=e),placeholder:"选择结束时间"},null,8,["modelValue"])])),_:1}),r(t,{class:"field"},{default:o((()=>[r(l,{class:"label"},{default:o((()=>[f("每页条数")])),_:1}),r(d,{mode:"selector",range:me.value,value:ae.value,onChange:Fe},{default:o((()=>[r(t,{class:"picker-display"},{default:o((()=>[f(m(me.value[ae.value]),1)])),_:1})])),_:1},8,["range","value"])])),_:1})])),_:1}),r(t,{class:"filter-actions"},{default:o((()=>[r(s,{class:"btn primary",disabled:ce.value,onClick:Re},{default:o((()=>[f(m(ce.value?"查询中...":"查询"),1)])),_:1},8,["disabled"]),r(s,{class:"btn ghost",disabled:ce.value,onClick:ze},{default:o((()=>[f("重置")])),_:1},8,["disabled"])])),_:1})])),_:1}),r(N,{title:"卡密总览",subtitle:ge.value,columns:Ce,rows:pe.value,loading:ce.value,layout:"stack","primary-column":"key","operations-column":"operations","collapse-details":!0},{actions:o((()=>[r(s,{class:"mini-btn ghost",disabled:ce.value,onClick:Be},{default:o((()=>[f("刷新")])),_:1},8,["disabled"])])),key:o((({row:e})=>[r(t,{class:"key-header"},{default:o((()=>[r(l,{class:"copy-text copyable",onLongpress:a=>Ae(e.key),onClick:p((a=>Ae(e.key)),["stop"])},{default:o((()=>[f(m(e.key),1)])),_:2},1032,["onLongpress","onClick"]),r(M,{status:_e[e.status],label:e.statusText||he[e.status]},null,8,["status","label"])])),_:2},1024)])),status:o((({row:e})=>[r(M,{status:_e[e.status],label:e.statusText||he[e.status]},null,8,["status","label"])])),ip:o((({row:e})=>[r(l,{class:"copy-text copyable",onLongpress:a=>Ae(e.ip||""),onClick:p((a=>Ae(e.ip||"")),["stop"])},{default:o((()=>[f(m(e.ip||"—"),1)])),_:2},1032,["onLongpress","onClick"])])),machineCodes:o((({row:e})=>[e.machineCodes&&e.machineCodes.length?(c(),u(t,{key:0,class:"machine-list"},{default:o((()=>[(c(!0),v(k,null,b(e.machineCodes,(e=>(c(),u(t,{key:e,class:"machine-item copyable",onLongpress:a=>Ae(e),onClick:p((a=>Ae(e)),["stop"])},{default:o((()=>[f(m(e),1)])),_:2},1032,["onLongpress","onClick"])))),128))])),_:2},1024)):(c(),u(l,{key:1,class:"placeholder"},{default:o((()=>[f("—")])),_:1}))])),remark:o((({row:e})=>[e.remark?(c(),u(l,{key:0,class:"remark"},{default:o((()=>[f(m(e.remark),1)])),_:2},1024)):(c(),u(l,{key:1,class:"placeholder"},{default:o((()=>[f("—")])),_:1}))])),fullKey:o((({row:e})=>[r(l,{class:"full-key copyable",onLongpress:a=>Ae(e.fullKey),onClick:p((a=>Ae(e.fullKey)),["stop"])},{default:o((()=>[f(m(e.fullKey),1)])),_:2},1032,["onLongpress","onClick"])])),operations:o((({row:e})=>[r(t,{class:"action-group"},{default:o((()=>[r(s,{class:g(["action-btn",{primary:"enabled"!==e.status}]),disabled:ce.value||xe(e.key,"enable"),onClick:a=>Xe(e,"enable")},{default:o((()=>[f(m(xe(e.key,"enable")?"处理中...":"启用"),1)])),_:2},1032,["class","disabled","onClick"]),r(s,{class:"action-btn warn",disabled:ce.value||xe(e.key,"disable"),onClick:a=>Xe(e,"disable")},{default:o((()=>[f(m(xe(e.key,"disable")?"处理中...":"禁用"),1)])),_:2},1032,["disabled","onClick"]),r(s,{class:"action-btn",disabled:ce.value||xe(e.key,"unban"),onClick:a=>Xe(e,"unban")},{default:o((()=>[f(m(xe(e.key,"unban")?"处理中...":"解除封禁"),1)])),_:2},1032,["disabled","onClick"]),r(s,{class:"action-btn ghost",disabled:ce.value||xe(e.key,"unbind"),onClick:a=>async function(e){if(!(null==e?void 0:e.key))return;if(await He(`确认解绑卡密：${e.key}？`)){Ve(e.key,"unbind");try{const a=await L.unbindCard(e.key);_({title:a||"解绑成功",icon:"success"})}catch(a){console.error("handleUnbind error",a),_({title:"解绑失败",icon:"none"})}finally{De()}}}(e)},{default:o((()=>[f(m(xe(e.key,"unbind")?"处理中...":"解绑"),1)])),_:2},1032,["disabled","onClick"])])),_:2},1024)])),_:1},8,["subtitle","rows","loading"]),ke.value>1||h(z)?(c(),u(t,{key:0,class:"pagination glass-card"},{default:o((()=>[r(t,{class:"page-info"},{default:o((()=>[f("第 "+m(ve.value)+" / "+m(ke.value)+" 页 · 共 "+m(h(z))+" 条",1)])),_:1}),r(t,{class:"page-actions"},{default:o((()=>[r(s,{class:"page-btn",disabled:ve.value<=1||ce.value,onClick:a[5]||(a[5]=e=>Ee(ve.value-1))},{default:o((()=>[f("上一页")])),_:1},8,["disabled"]),r(s,{class:"page-btn",disabled:ve.value>=ke.value||ce.value,onClick:a[6]||(a[6]=e=>Ee(ve.value+1))},{default:o((()=>[f("下一页")])),_:1},8,["disabled"])])),_:1})])),_:1})):y("",!0),te.value?(c(),u(t,{key:1,class:"create-card-modal",onClick:Pe},{default:o((()=>[r(t,{class:"create-card-panel glass-card",onClick:a[10]||(a[10]=p((()=>{}),["stop"]))},{default:o((()=>[r(t,{class:"create-card-header"},{default:o((()=>[r(l,{class:"create-card-title"},{default:o((()=>[f("批量生成卡密")])),_:1}),r(s,{class:"create-card-close",disabled:de.value,onClick:Pe},{default:o((()=>[f("关闭")])),_:1},8,["disabled"])])),_:1}),r(t,{class:"create-card-body"},{default:o((()=>[r(t,{class:"form-field"},{default:o((()=>[r(l,{class:"form-label"},{default:o((()=>[f("卡密类型")])),_:1}),r(d,{mode:"selector",range:ye.value,value:ie.cardTypeIndex,onChange:$e},{default:o((()=>[r(t,{class:"picker-display"},{default:o((()=>[f(m(ye.value[ie.cardTypeIndex]||"请选择卡密类型"),1)])),_:1})])),_:1},8,["range","value"])])),_:1}),r(t,{class:"form-field"},{default:o((()=>[r(l,{class:"form-label"},{default:o((()=>[f("生成数量")])),_:1}),r(C,{class:"input",type:"number",modelValue:ie.quantity,"onUpdate:modelValue":a[7]||(a[7]=e=>ie.quantity=e),placeholder:"1-500"},null,8,["modelValue"])])),_:1}),r(t,{class:"form-field"},{default:o((()=>[r(l,{class:"form-label"},{default:o((()=>[f("备注（可选）")])),_:1}),r(n,{class:"textarea",modelValue:ie.remarks,"onUpdate:modelValue":a[8]||(a[8]=e=>ie.remarks=e),placeholder:"可填写备注信息","auto-height":""},null,8,["modelValue"])])),_:1}),r(t,{class:"form-field"},{default:o((()=>[r(l,{class:"form-label"},{default:o((()=>[f("自定义前缀（可选）")])),_:1}),r(C,{class:"input",modelValue:ie.customPrefix,"onUpdate:modelValue":a[9]||(a[9]=e=>ie.customPrefix=e),placeholder:"最多 32 位字符",maxlength:"32"},null,8,["modelValue"])])),_:1})])),_:1}),r(t,{class:"create-card-actions"},{default:o((()=>[r(s,{class:"btn ghost",disabled:de.value,onClick:Pe},{default:o((()=>[f("取消")])),_:1},8,["disabled"]),r(s,{class:"btn primary",disabled:de.value,onClick:Ge},{default:o((()=>[f(m(de.value?"生成中...":"立即生成"),1)])),_:1},8,["disabled"])])),_:1})])),_:1})])),_:1})):y("",!0),le.value?(c(),u(t,{key:2,class:"generated-modal",onClick:Ie},{default:o((()=>[r(t,{class:"generated-panel glass-card",onClick:a[11]||(a[11]=p((()=>{}),["stop"]))},{default:o((()=>[r(t,{class:"generated-header"},{default:o((()=>[r(l,{class:"generated-title"},{default:o((()=>[f("生成卡密（"+m(se.value.length)+"）",1)])),_:1}),r(s,{class:"generated-close",onClick:Ie},{default:o((()=>[f("关闭")])),_:1})])),_:1}),r(w,{"scroll-y":"",class:"generated-list","show-scrollbar":!1},{default:o((()=>[(c(!0),v(k,null,b(se.value,(e=>(c(),u(t,{key:e,class:"generated-item copyable",onLongpress:a=>Ae(e),onClick:p((a=>Ae(e)),["stop"])},{default:o((()=>[f(m(e),1)])),_:2},1032,["onLongpress","onClick"])))),128))])),_:1}),r(t,{class:"generated-actions"},{default:o((()=>[r(s,{class:"generated-btn",onClick:Se,disabled:!se.value.length},{default:o((()=>[f("复制全部")])),_:1},8,["disabled"]),r(s,{class:"generated-btn primary",onClick:je,disabled:!se.value.length},{default:o((()=>[f("导出 TXT")])),_:1},8,["disabled"])])),_:1})])),_:1})])),_:1})):y("",!0)])),_:1})}}}),[["__scopeId","data-v-9104e292"]]);export{F as default};

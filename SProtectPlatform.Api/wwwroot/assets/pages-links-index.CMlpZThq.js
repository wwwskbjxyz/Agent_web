import{d as e,D as a,x as t,h as s,z as l,y as n,o as i,c as o,w as r,a as d,b as c,t as u,s as f,C as k,i as _,e as m,f as w,_ as p}from"./index-HILlddLG.js";import{D as y}from"./DataTable.DKSCNdyd.js";import{S as x}from"./SoftwarePicker.BCpN4_YZ.js";const b=p(e({__name:"index",setup(e){const p=a(),{linkRecords:b,selectedSoftware:h}=t(p),v=[{key:"id",label:"编号",style:"min-width:140rpx"},{key:"url",label:"蓝奏云链接",style:"min-width:260rpx"},{key:"extractionCode",label:"提取码",style:"min-width:140rpx"},{key:"createdAt",label:"抓取时间",style:"min-width:200rpx"},{key:"content",label:"备注信息",style:"min-width:240rpx"}],C=s((()=>b.value.map((e=>({id:e.id,url:e.url,extractionCode:e.extractionCode||"—",createdAt:e.createdAt,content:e.content||""}))))),g=s((()=>p.loading.links));function R(){f({title:"请接入联动创建接口",icon:"none"})}return l((async()=>{await p.ensureReady(),await p.loadLinkRecords()})),n((()=>h.value),((e,a)=>{e&&e!==a&&p.loadLinkRecords()})),(e,a)=>{const t=_,s=m,l=w;return i(),o(s,{class:"page"},{default:r((()=>[d(s,{class:"header glass-card"},{default:r((()=>[d(s,null,{default:r((()=>[d(t,{class:"title"},{default:r((()=>[c("联动记录")])),_:1}),d(t,{class:"subtitle"},{default:r((()=>[c("查看蓝奏云链接抓取与分发日志")])),_:1})])),_:1}),d(s,{class:"header-actions"},{default:r((()=>[d(x),d(l,{class:"header-btn",onClick:R},{default:r((()=>[c("新建联动")])),_:1})])),_:1})])),_:1}),d(y,{title:"蓝奏云记录",subtitle:"包含链接、提取码及创建时间",columns:v,rows:C.value,loading:g.value},{url:r((({row:e})=>[d(s,{class:"link-url",onClick:a=>{return t=e.url,void k({data:t,success:()=>f({title:"链接已复制",icon:"success"})});var t}},{default:r((()=>[c(u(e.url),1)])),_:2},1032,["onClick"])])),content:r((({row:e})=>[d(s,{class:"link-content"},{default:r((()=>[c(u(e.content||"—"),1)])),_:2},1024)])),_:1},8,["rows","loading"])])),_:1})}}}),[["__scopeId","data-v-6b3fe3f8"]]);export{b as default};
